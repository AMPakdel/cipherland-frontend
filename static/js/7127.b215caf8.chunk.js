"use strict";(self.webpackChunkcipherland_code=self.webpackChunkcipherland_code||[]).push([[7127],{97127:function(e,t,r){r.r(t),r.d(t,{default:function(){return D}});var n=r(11092),a=r(27791),l=r(11026),s=r(86612),c=r(66845),o=r(99898),i=r(82073),d=r(35269),u=r(96089),x=r(64976),f=r(8783),v=r(14565),h=r(72706),p=r.n(h),m=r(19587),w=r(36917),j=r(8768),b=r(22762),g=r(40864);function D(){var e=(0,o.UO)(),t=(0,d.useDispatch)(),r=(0,c.useState)(!0),h=(0,l.Z)(r,2),D=h[0],Z=h[1],N=(0,c.useState)(0),k=(0,l.Z)(N,2),y=k[0],C=k[1],S=(0,c.useState)([]),z=(0,l.Z)(S,2),q=z[0],M=z[1],L=(0,c.useState)(0),W=(0,l.Z)(L,2),E=W[0],H=W[1],Q=(0,c.useState)({rowIndex:-1,colIndex:-1}),T=(0,l.Z)(Q,2),V=T[0],A=T[1],G=(0,c.useState)(!1),O=(0,l.Z)(G,2),_=O[0],P=O[1],U=(0,b.Ds)().enqueueSnackbar,X=(0,d.useSelector)((function(e){return e.LearnestApp.crossword}));function B(t){if(-1!=V.rowIndex){var r=function(e,t,r,n){var a=p().cloneDeep(e),l=null,s=null;a.forEach((function(e){e.rowIndex===t.rowIndex&&e.colIndex===t.colIndex?l=e:e.rowIndex===r&&e.colIndex===n&&(s=e)}));var c=l.cellData;l.cellData=s.cellData,s.cellData=c;var o=!0;l.cellData!==l.currectCellData&&s.cellData!==s.currectCellData||(o=!1);return{newGridData:a,isWrongMove:o}}(q,V,t.rowIndex,t.colIndex),l=r.newGridData,s=r.isWrongMove;M(l),A({rowIndex:-1,colIndex:-1}),s&&C(y+1);var c=function(e){var t=!0;return e.forEach((function(e){e.cellData!==e.currectCellData&&(t=!1)})),t}(l);c&&(Z(!0),(0,a.Z)((0,n.Z)().mark((function t(){var r,a,s,c,o,i,d,u,x,f;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=I(l,e.crosswordId),t.prev=1,t.next=4,(0,j.Z)("POST","/api/v1/learnest/crossword/answer",{},{},r);case 4:o=t.sent,i=null===(a=o.data)||void 0===a?void 0:a.code,d=null===(s=o.data)||void 0===s||null===(c=s.data)||void 0===c?void 0:c.message,0===i?U(d||"\u067e\u0627\u0633\u062e \u062f\u0631\u0633\u062a",{variant:"success"}):U(d||"\u062e\u0637\u0627 \u062f\u0631 \u0633\u0631\u0648\u06cc\u0633 \u0644\u0631\u0646\u0633\u062a",{variant:"warning"}),Z(!1),P(!0),t.next=18;break;case 12:t.prev=12,t.t0=t.catch(1),(f=null===t.t0||void 0===t.t0||null===(u=t.t0.response)||void 0===u||null===(x=u.data)||void 0===x?void 0:x.message)&&U(f,{variant:"error"}),Z(!1),P(!0);case 18:case"end":return t.stop()}}),t,null,[[1,12]])})))())}else A(p().cloneDeep(t))}function F(){A({rowIndex:-1,colIndex:-1})}return(0,c.useEffect)((function(){0===(null===X||void 0===X?void 0:X.code)&&(M(X.data.crossWordContentToAnswers),H(X.data.cross),Z(!1))}),[X]),(0,c.useEffect)((function(){t((0,i.XW)(e.crosswordId))}),[t]),(0,g.jsx)(s.Z,{content:(0,g.jsxs)("div",{className:"relative w-full min-h-[calc(100vh-50px)] sm:min-h-[calc(100vh-80px)]",children:[(0,g.jsx)(u.ql,{prioritizeSeoTags:!0,children:(0,g.jsx)("title",{children:(0,x.t)("Crossword | \u062c\u062f\u0648\u0644 \u062d\u0631\u0648\u0641")})}),D?(0,g.jsx)("div",{className:"absolute w-full flex justify-center \r top-0 left-0 items-center h-full bg-white bg-opacity-90",children:(0,g.jsx)(f.Z,{color:"secondary",size:60})}):(0,g.jsxs)("div",{className:"relative w-full h-full sm:h-auto m-auto py-32 px-16 overflow-auto sm:max-w-[500px]",children:[(0,g.jsx)("div",{className:"relative w-full grid gap-[4px]",style:{direction:"ltr",gridTemplateColumns:"repeat(".concat(E,", minmax(0, 1fr))")},children:q.map((function(e,t){return e.isLocked?(0,g.jsx)("div",{className:"bg-black rounded-[4px] aspect-square \r select-none"},t):e.cellData===e.currectCellData?(0,g.jsx)("div",{className:"!border-orange-800 border-solid border-2 \r rounded-[4px] aspect-square flex justify-center items-center text-14 \r font-bold pt-4 select-none",children:e.cellData},t):e.rowIndex===V.rowIndex&&e.colIndex===V.colIndex?(0,g.jsx)("div",{className:"bg-red-700 rounded-[4px] aspect-square\r flex justify-center items-center text-14 font-bold text-white pt-4\r cursor-pointer select-none",onClick:F,children:e.cellData},t):(0,g.jsx)("div",{className:"bg-orange-800 rounded-[4px] aspect-square\r flex justify-center items-center text-14 font-bold text-white pt-4\r cursor-pointer select-none",onClick:function(t){return B(e)},children:e.cellData},t)}))}),(0,g.jsxs)("div",{className:"relative flex w-full flex-col mt-24",style:{direction:"ltr"},children:[(0,g.jsx)("div",{children:"wrong moves : "+y}),_&&(0,g.jsxs)("div",{className:"w-full flex flex-col items-center",children:[(0,g.jsx)("div",{className:"text-16 font-bold text-green-900 mb-24 mt-32",children:"\u0634\u0645\u0627 \u0645\u0648\u0641\u0642 \u0628\u0647 \u062d\u0644 \u0627\u06cc\u0646 \u062c\u062f\u0648\u0644 \u0634\u062f\u06cc\u062f"}),(0,g.jsx)(v.Z,{className:"min-w-[240px]",variant:"contained",color:"primary",onClick:function(){history.back()},children:"\u0628\u0627\u0632\u06af\u0634\u062a"})]}),V.horizontalQuestion&&(0,g.jsxs)("div",{className:"flex items-center mt-12",children:[(0,g.jsx)("div",{className:"box-border bg-orange-800 h-48 w-48 flex items-center justify-center\r rounded-[4px] mr-8",children:(0,g.jsx)(w.Z,{})}),(0,g.jsx)("p",{className:"text-12 font-bold",children:V.horizontalQuestion})]}),V.verticalQuestion&&(0,g.jsxs)("div",{className:"flex items-center mt-12",children:[(0,g.jsx)("div",{className:"bg-orange-800 h-48 w-48 flex items-center justify-center\r rounded-[4px] mr-8",children:(0,g.jsx)(m.Z,{})}),(0,g.jsx)("p",{className:"text-12 font-bold",children:V.verticalQuestion})]})]})]})]})})}function I(e,t){return{crossWordId:+t,chars:e.map((function(e){return e.cellData}))}}},36917:function(e,t,r){var n=r(73203);t.Z=void 0;var a=n(r(75437)),l=r(40864),s=(0,a.default)((0,l.jsx)("path",{d:"M6.99 11 3 15l3.99 4v-3H14v-2H6.99v-3zM21 9l-3.99-4v3H10v2h7.01v3L21 9z"}),"SwapHoriz");t.Z=s},19587:function(e,t,r){var n=r(73203);t.Z=void 0;var a=n(r(75437)),l=r(40864),s=(0,a.default)((0,l.jsx)("path",{d:"M16 17.01V10h-2v7.01h-3L15 21l4-3.99h-3zM9 3 5 6.99h3V14h2V6.99h3L9 3z"}),"SwapVert");t.Z=s}}]);