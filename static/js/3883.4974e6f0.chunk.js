"use strict";(self.webpackChunkcipherland_code=self.webpackChunkcipherland_code||[]).push([[3883],{53883:function(e,t,n){n.r(t),n.d(t,{default:function(){return z}});var r=n(50189),a=n(11026),i=n(65811),s=n(60903),o=n(61927),l=n(14565),c=n(77621),d=n(90527),u=n(4019),m=n(90694),h=n(98225),f=n(66845),x=n(35269),p=n(99898),v=n(78684),j=n(78771),Z=n(25358),g=n(13597),b=n(33416),y=n(82426),w=n(2821),N=n(55298),I=n(89310),P=n(12921),S=n(40864);var C=function(e){var t=(0,x.useDispatch)(),n=(0,Z.Gc)(),r=n.formState,a=n.watch,i=n.getValues,s=r.isValid,o=r.dirtyFields,c=a("featuredImageId"),d=a("images"),m=a("name"),f=(0,I.Z)(),g=(0,p.s0)();return(0,S.jsxs)("div",{className:"flex flex-col sm:flex-row flex-1 w-full items-center justify-between space-y-8 sm:space-y-0 py-32 px-24 md:px-32",children:[(0,S.jsxs)("div",{className:"flex flex-col items-center sm:items-start space-y-8 sm:space-y-0 w-full sm:max-w-full min-w-0",children:[(0,S.jsx)(h.E.div,{initial:{x:20,opacity:0},animate:{x:0,opacity:1,transition:{delay:.3}},children:(0,S.jsxs)(u.Z,{className:"flex items-center sm:mb-12",component:v.Link,role:"button",to:"/products",color:"inherit",children:[(0,S.jsx)(P.default,{size:20,children:"ltr"===f.direction?"heroicons-outline:arrow-sm-left":"heroicons-outline:arrow-sm-right"}),(0,S.jsx)("span",{className:"flex mx-4 font-medium",children:"Products"})]})}),(0,S.jsxs)("div",{className:"flex items-center max-w-full",children:[(0,S.jsx)(h.E.div,{className:"hidden sm:flex",initial:{scale:0},animate:{scale:1,transition:{delay:.3}},children:d.length>0&&c?(0,S.jsx)("img",{className:"w-32 sm:w-48 rounded",src:j.default.find(d,{id:c}).url,alt:m}):(0,S.jsx)("img",{className:"w-32 sm:w-48 rounded",src:"assets/images/apps/ecommerce/product-image-placeholder.png",alt:m})}),(0,S.jsxs)(h.E.div,{className:"flex flex-col items-center sm:items-start min-w-0 mx-8 sm:mx-16",initial:{x:-20},animate:{x:0,transition:{delay:.3}},children:[(0,S.jsx)(u.Z,{className:"text-16 sm:text-20 truncate font-semibold",children:m||"New Product"}),(0,S.jsx)(u.Z,{variant:"caption",className:"font-medium",children:"Product Detail"})]})]})]}),(0,S.jsxs)(h.E.div,{className:"flex",initial:{opacity:0,x:20},animate:{opacity:1,x:0,transition:{delay:.3}},children:[(0,S.jsx)(l.Z,{className:"whitespace-nowrap mx-4",variant:"contained",color:"secondary",onClick:function(){t((0,w.kh)()).then((function(){g("/products")}))},startIcon:(0,S.jsx)(P.default,{className:"hidden sm:flex",children:"heroicons-outline:trash"}),children:"Remove"}),(0,S.jsx)(l.Z,{className:"whitespace-nowrap mx-4",variant:"contained",color:"secondary",disabled:j.default.isEmpty(o)||!s,onClick:function(){t((0,w.gg)(i()))},children:"Save"})]})]})},k=n(22042),F=n(91351);var Q=function(e){var t=(0,Z.Gc)(),n=t.control,a=t.formState.errors;return(0,S.jsxs)("div",{children:[(0,S.jsx)(Z.Qr,{name:"name",control:n,render:function(e){var t,n=e.field;return(0,S.jsx)(k.Z,(0,r.Z)((0,r.Z)({},n),{},{className:"mt-8 mb-16",error:!!a.name,required:!0,helperText:null===a||void 0===a||null===(t=a.name)||void 0===t?void 0:t.message,label:"Name",autoFocus:!0,id:"name",variant:"outlined",fullWidth:!0}))}}),(0,S.jsx)(Z.Qr,{name:"description",control:n,render:function(e){var t=e.field;return(0,S.jsx)(k.Z,(0,r.Z)((0,r.Z)({},t),{},{className:"mt-8 mb-16",id:"description",label:"Description",type:"text",multiline:!0,rows:5,variant:"outlined",fullWidth:!0}))}}),(0,S.jsx)(Z.Qr,{name:"categories",control:n,defaultValue:[],render:function(e){var t=e.field,n=t.onChange,a=t.value;return(0,S.jsx)(F.Z,{className:"mt-8 mb-16",multiple:!0,freeSolo:!0,options:[],value:a,onChange:function(e,t){n(t)},renderInput:function(e){return(0,S.jsx)(k.Z,(0,r.Z)((0,r.Z)({},e),{},{placeholder:"Select multiple categories",label:"Categories",variant:"outlined",InputLabelProps:{shrink:!0}}))}})}}),(0,S.jsx)(Z.Qr,{name:"tags",control:n,defaultValue:[],render:function(e){var t=e.field,n=t.onChange,a=t.value;return(0,S.jsx)(F.Z,{className:"mt-8 mb-16",multiple:!0,freeSolo:!0,options:[],value:a,onChange:function(e,t){n(t)},renderInput:function(e){return(0,S.jsx)(k.Z,(0,r.Z)((0,r.Z)({},e),{},{placeholder:"Select multiple tags",label:"Tags",variant:"outlined",InputLabelProps:{shrink:!0}}))}})}})]})};var E=function(e){var t=(0,Z.Gc)().control;return(0,S.jsxs)("div",{children:[(0,S.jsx)(Z.Qr,{name:"sku",control:t,render:function(e){var t=e.field;return(0,S.jsx)(k.Z,(0,r.Z)((0,r.Z)({},t),{},{className:"mt-8 mb-16",required:!0,label:"SKU",autoFocus:!0,id:"sku",variant:"outlined",fullWidth:!0}))}}),(0,S.jsx)(Z.Qr,{name:"quantity",control:t,render:function(e){var t=e.field;return(0,S.jsx)(k.Z,(0,r.Z)((0,r.Z)({},t),{},{className:"mt-8 mb-16",label:"Quantity",id:"quantity",variant:"outlined",type:"number",fullWidth:!0}))}})]})},W=n(76932);var T=function(e){var t=(0,Z.Gc)().control;return(0,S.jsxs)("div",{children:[(0,S.jsx)(Z.Qr,{name:"priceTaxExcl",control:t,render:function(e){var t=e.field;return(0,S.jsx)(k.Z,(0,r.Z)((0,r.Z)({},t),{},{className:"mt-8 mb-16",label:"Tax Excluded Price",id:"priceTaxExcl",InputProps:{startAdornment:(0,S.jsx)(W.Z,{position:"start",children:"$"})},type:"number",variant:"outlined",autoFocus:!0,fullWidth:!0}))}}),(0,S.jsx)(Z.Qr,{name:"priceTaxIncl",control:t,render:function(e){var t=e.field;return(0,S.jsx)(k.Z,(0,r.Z)((0,r.Z)({},t),{},{className:"mt-8 mb-16",label:"Tax Included Price",id:"priceTaxIncl",InputProps:{startAdornment:(0,S.jsx)(W.Z,{position:"start",children:"$"})},type:"number",variant:"outlined",fullWidth:!0}))}}),(0,S.jsx)(Z.Qr,{name:"taxRate",control:t,render:function(e){var t=e.field;return(0,S.jsx)(k.Z,(0,r.Z)((0,r.Z)({},t),{},{className:"mt-8 mb-16",label:"Tax Rate",id:"taxRate",InputProps:{startAdornment:(0,S.jsx)(W.Z,{position:"start",children:"$"})},type:"number",variant:"outlined",fullWidth:!0}))}}),(0,S.jsx)(Z.Qr,{name:"comparedPrice",control:t,render:function(e){var t=e.field;return(0,S.jsx)(k.Z,(0,r.Z)((0,r.Z)({},t),{},{className:"mt-8 mb-16",label:"Compared Price",id:"comparedPrice",InputProps:{startAdornment:(0,S.jsx)(W.Z,{position:"start",children:"$"})},type:"number",variant:"outlined",fullWidth:!0,helperText:"Add a compare price to show next to the real price"}))}})]})},D=n(11092),V=n(649),A=n(27791),G=n(50653),R=n(43413),U=n(33137),$=n(22383),q=n(12565),L=n(52076),O=(0,R.ZP)("div")((function(e){var t=e.theme;return{"& .productImageFeaturedStar":{position:"absolute",top:0,right:0,color:G.Z[400],opacity:0},"& .productImageUpload":{transitionProperty:"box-shadow",transitionDuration:t.transitions.duration.short,transitionTimingFunction:t.transitions.easing.easeInOut},"& .productImageItem":{transitionProperty:"box-shadow",transitionDuration:t.transitions.duration.short,transitionTimingFunction:t.transitions.easing.easeInOut,"&:hover":{"& .productImageFeaturedStar":{opacity:.8}},"&.featured":{pointerEvents:"none",boxShadow:t.shadows[3],"& .productImageFeaturedStar":{opacity:1},"&:hover .productImageFeaturedStar":{opacity:1}}}}}));var B=function(e){var t=(0,Z.Gc)(),n=t.control,r=(0,t.watch)("images");return(0,S.jsx)(O,{children:(0,S.jsxs)("div",{className:"flex justify-center sm:justify-start flex-wrap -mx-16",children:[(0,S.jsx)(Z.Qr,{name:"images",control:n,render:function(e){var t=e.field,n=t.onChange,r=t.value;return(0,S.jsxs)(L.Z,{sx:{backgroundColor:function(e){return"light"===e.palette.mode?(0,U.$n)(e.palette.background.default,.4):(0,U.$n)(e.palette.background.default,.02)}},component:"label",htmlFor:"button-file",className:"productImageUpload flex items-center justify-center relative w-128 h-128 rounded-16 mx-12 mb-24 overflow-hidden cursor-pointer shadow hover:shadow-lg",children:[(0,S.jsx)("input",{accept:"image/*",className:"hidden",id:"button-file",type:"file",onChange:function(){var e=(0,A.Z)((0,D.Z)().mark((function e(t){var a,i;return(0,D.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(){return new Promise((function(e,n){var r=t.target.files[0];if(r){var a=new FileReader;a.onload=function(){e({id:q.default.generateGUID(),url:"data:".concat(r.type,";base64,").concat(btoa(a.result)),type:"image"})},a.onerror=n,a.readAsBinaryString(r)}}))},e.next=3,a();case 3:i=e.sent,n([i].concat((0,V.Z)(r)));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),(0,S.jsx)(P.default,{size:32,color:"action",children:"heroicons-outline:upload"})]})}}),(0,S.jsx)(Z.Qr,{name:"featuredImageId",control:n,defaultValue:"",render:function(e){var t=e.field,n=t.onChange,a=t.value;return r.map((function(e){return(0,S.jsxs)("div",{onClick:function(){return n(e.id)},onKeyDown:function(){return n(e.id)},role:"button",tabIndex:0,className:(0,$.default)("productImageItem flex items-center justify-center relative w-128 h-128 rounded-16 mx-12 mb-24 overflow-hidden cursor-pointer outline-none shadow hover:shadow-lg",e.id===a&&"featured"),children:[(0,S.jsx)(P.default,{className:"productImageFeaturedStar",children:"heroicons-solid:star"}),(0,S.jsx)("img",{className:"max-w-none w-auto h-full",src:e.url,alt:"product"})]},e.id)}))}})]})})};var K=function(e){var t=(0,Z.Gc)().control;return(0,S.jsxs)("div",{children:[(0,S.jsxs)("div",{className:"flex -mx-4",children:[(0,S.jsx)(Z.Qr,{name:"width",control:t,render:function(e){var t=e.field;return(0,S.jsx)(k.Z,(0,r.Z)((0,r.Z)({},t),{},{className:"mt-8 mb-16 mx-4",label:"Width",autoFocus:!0,id:"width",variant:"outlined",fullWidth:!0}))}}),(0,S.jsx)(Z.Qr,{name:"height",control:t,render:function(e){var t=e.field;return(0,S.jsx)(k.Z,(0,r.Z)((0,r.Z)({},t),{},{className:"mt-8 mb-16 mx-4",label:"Height",id:"height",variant:"outlined",fullWidth:!0}))}}),(0,S.jsx)(Z.Qr,{name:"depth",control:t,render:function(e){var t=e.field;return(0,S.jsx)(k.Z,(0,r.Z)((0,r.Z)({},t),{},{className:"mt-8 mb-16 mx-4",label:"Depth",id:"depth",variant:"outlined",fullWidth:!0}))}})]}),(0,S.jsx)(Z.Qr,{name:"weight",control:t,render:function(e){var t=e.field;return(0,S.jsx)(k.Z,(0,r.Z)((0,r.Z)({},t),{},{className:"mt-8 mb-16",label:"Weight",id:"weight",variant:"outlined",fullWidth:!0}))}}),(0,S.jsx)(Z.Qr,{name:"extraShippingFee",control:t,render:function(e){var t=e.field;return(0,S.jsx)(k.Z,(0,r.Z)((0,r.Z)({},t),{},{className:"mt-8 mb-16",label:"Extra Shipping Fee",id:"extraShippingFee",variant:"outlined",InputProps:{startAdornment:(0,S.jsx)(W.Z,{position:"start",children:"$"})},fullWidth:!0}))}})]})},_=b.Ry().shape({name:b.Z_().required("You must enter a product name").min(5,"The product name must be at least 5 characters")});var z=(0,m.Z)("eCommerceApp",N.Z)((function(e){var t=(0,x.useDispatch)(),n=(0,x.useSelector)(w.Fn),m=(0,y.Z)((function(e){return e.breakpoints.down("lg")})),b=(0,p.UO)(),N=(0,f.useState)(0),I=(0,a.Z)(N,2),P=I[0],k=I[1],F=(0,f.useState)(!1),W=(0,a.Z)(F,2),D=W[0],V=W[1],A=(0,Z.cI)({mode:"onChange",defaultValues:{},resolver:(0,g.X)(_)}),G=A.reset,R=A.watch,U=(A.control,A.onChange,A.formState,R());return(0,o.useDeepCompareEffect)((function(){!function(){var e=b.productId;"new"===e?t((0,w.AC)()):t((0,w.wv)(e)).then((function(e){e.payload||V(!0)}))}()}),[t,b]),(0,f.useEffect)((function(){n&&G(n)}),[n,G]),(0,f.useEffect)((function(){return function(){t((0,w.ms)()),V(!1)}}),[t]),D?(0,S.jsxs)(h.E.div,{initial:{opacity:0},animate:{opacity:1,transition:{delay:.1}},className:"flex flex-col flex-1 items-center justify-center h-full",children:[(0,S.jsx)(u.Z,{color:"text.secondary",variant:"h5",children:"There is no such product!"}),(0,S.jsx)(l.Z,{className:"mt-24",component:v.Link,variant:"outlined",to:"/products",color:"inherit",children:"Go to Products Page"})]}):j.default.isEmpty(U)||n&&b.productId!==n.id&&"new"!==b.productId?(0,S.jsx)(i.default,{}):(0,S.jsx)(Z.RV,(0,r.Z)((0,r.Z)({},A),{},{children:(0,S.jsx)(s.Z,{header:(0,S.jsx)(C,{}),content:(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)(d.Z,{value:P,onChange:function(e,t){k(t)},indicatorColor:"secondary",textColor:"secondary",variant:"scrollable",scrollButtons:"auto",classes:{root:"w-full h-64 border-b-1"},children:[(0,S.jsx)(c.Z,{className:"h-64",label:"Basic Info"}),(0,S.jsx)(c.Z,{className:"h-64",label:"Product Images"}),(0,S.jsx)(c.Z,{className:"h-64",label:"Pricing"}),(0,S.jsx)(c.Z,{className:"h-64",label:"Inventory"}),(0,S.jsx)(c.Z,{className:"h-64",label:"Shipping"})]}),(0,S.jsxs)("div",{className:"p-16 sm:p-24 max-w-3xl",children:[(0,S.jsx)("div",{className:0!==P?"hidden":"",children:(0,S.jsx)(Q,{})}),(0,S.jsx)("div",{className:1!==P?"hidden":"",children:(0,S.jsx)(B,{})}),(0,S.jsx)("div",{className:2!==P?"hidden":"",children:(0,S.jsx)(T,{})}),(0,S.jsx)("div",{className:3!==P?"hidden":"",children:(0,S.jsx)(E,{})}),(0,S.jsx)("div",{className:4!==P?"hidden":"",children:(0,S.jsx)(K,{})})]})]}),scroll:m?"normal":"content"})}))}))},13597:function(e,t,n){n.d(t,{X:function(){return i}});var r=n(47752),a=n(25358),i=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),function(i,s,o){try{return Promise.resolve(function(a,l){try{var c=(t.context,Promise.resolve(e["sync"===n.mode?"validateSync":"validate"](i,Object.assign({abortEarly:!1},t,{context:s}))).then((function(e){return o.shouldUseNativeValidation&&(0,r.M)({},o),{values:n.rawValues?i:e,errors:{}}})))}catch(d){return l(d)}return c&&c.then?c.then(void 0,l):c}(0,(function(e){if(!e.inner)throw e;return{values:{},errors:(0,r.D)((t=e,n=!o.shouldUseNativeValidation&&"all"===o.criteriaMode,(t.inner||[]).reduce((function(e,t){if(e[t.path]||(e[t.path]={message:t.message,type:t.type}),n){var r=e[t.path].types,i=r&&r[t.type];e[t.path]=(0,a.KN)(t.path,n,e,t.type,i?[].concat(i,t.message):t.message)}return e}),{})),o)};var t,n})))}catch(l){return Promise.reject(l)}}}}}]);