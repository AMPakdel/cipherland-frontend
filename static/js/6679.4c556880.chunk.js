"use strict";(self.webpackChunkcipherland_code=self.webpackChunkcipherland_code||[]).push([[6679],{66679:function(e,n,t){t.r(n),t.d(n,{default:function(){return W}});var l=t(50189),a=t(38708),i=t(82426);var o=function(e){return{isMobile:(0,i.Z)((function(e){return e.breakpoints.down("lg")}))}},s=t(60903),c=t(90694),r=t(83474),d=t(14565),u=t(19026),m=t(26162),h=t(4019),f=t(98225),p=t(35269),x=t(78684),g=t(12921),j=t(33476),b=t(40864);var v=function(e){var n=e.t,t=(0,p.useDispatch)(),l=(0,p.useSelector)(j.pd);return(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row space-y-16 sm:space-y-0 flex-1 w-full items-center justify-between py-32 px-24 md:px-32",children:[(0,b.jsx)(h.Z,{component:f.E.span,initial:{x:-20},animate:{x:0,transition:{delay:.2}},delay:300,className:"text-24 md:text-32 font-extrabold tracking-tight",children:n("USERS_MANAGER")}),(0,b.jsxs)("div",{className:"flex flex-col w-full sm:w-auto sm:flex-row space-y-16 sm:space-y-0 flex-1 items-center justify-end space-x-8",children:[(0,b.jsxs)(m.Z,{component:f.E.div,initial:{y:-20,opacity:0},animate:{y:0,opacity:1,transition:{delay:.2}},className:"flex items-center w-full sm:max-w-256 space-x-8 px-16 rounded-full border-1 shadow-0 mx-5",children:[(0,b.jsx)(g.default,{color:"disabled",children:"heroicons-solid:search"}),(0,b.jsx)(u.Z,{placeholder:n("SEARCH_USERS"),className:"flex flex-1",disableUnderline:!0,fullWidth:!0,value:l,inputProps:{"aria-label":"Search"},onChange:function(e){return t((0,j.T5)(e))}})]}),(0,b.jsx)(f.E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0,transition:{delay:.2}},children:(0,b.jsx)(d.Z,{className:"",component:x.Link,to:"/users-management/new",variant:"contained",color:"secondary",startIcon:(0,b.jsx)(g.default,{children:"heroicons-outline:plus"}),children:n("ADD")})})]})]})},N=t(11026),Z=t(82524),w=t(78771),k=t(76489),y=t(70634),P=t(23179),S=t(55420),C=t(96023),E=t(38075),R=t(66845),A=t(66398),M=t(65811),I=t(4709),T=t(8747),U=t(83039),_=t(98338),D=t(44838),L=t(44713),O=t(70123),z=t(32531),B=t(65289),$=t(76803),q=t(33137);var F=function(e){var n=e.t,t=[{id:"image",align:"left",disablePadding:!0,label:"",sort:!1},{id:"mobile",align:"left",disablePadding:!1,label:n("MOBILE"),sort:!0},{id:"nationalCode",align:"left",disablePadding:!1,label:n("NATIONAL CODE"),sort:!0},{id:"fistname",align:"left",disablePadding:!1,label:n("FIRST_NAME"),sort:!0},{id:"lastname",align:"left",disablePadding:!1,label:n("LAST_NAME"),sort:!0},{id:"email",align:"left",disablePadding:!1,label:n("EMAIL"),sort:!0},{id:"status",align:"left",disablePadding:!1,label:n("STATUS"),sort:!0},{id:"",align:"right",disablePadding:!1,label:"",sort:!0}],l=e.selectedProductIds,a=l.length,i=(0,R.useState)(null),o=(0,N.Z)(i,2),s=o[0],c=o[1],r=(0,p.useDispatch)();function d(){c(null)}return(0,b.jsx)($.Z,{children:(0,b.jsxs)(E.Z,{className:"h-48 sm:h-64",children:[(0,b.jsxs)(S.Z,{sx:{backgroundColor:function(e){return"light"===e.palette.mode?(0,q.$n)(e.palette.background.default,.4):(0,q.$n)(e.palette.background.default,.02)}},padding:"none",className:"w-40 md:w-64 text-center z-99",children:[(0,b.jsx)(k.Z,{indeterminate:a>0&&a<e.rowCount,checked:0!==e.rowCount&&a===e.rowCount,onChange:e.onSelectAllClick}),a>0&&(0,b.jsxs)(B.Z,{className:"flex items-center justify-center absolute w-64 top-0 ltr:left-0 rtl:right-0 mx-56 h-64 z-10 border-b-1",sx:{background:function(e){return e.palette.background.default}},children:[(0,b.jsx)(I.Z,{"aria-owns":s?"selectedUsersMenu":null,"aria-haspopup":"true",onClick:function(e){c(e.currentTarget)},size:"large",children:(0,b.jsx)(g.default,{children:"heroicons-outline:dots-horizontal"})}),(0,b.jsx)(_.Z,{id:"selectedUsersMenu",anchorEl:s,open:Boolean(s),onClose:d,children:(0,b.jsx)(L.Z,{children:(0,b.jsxs)(D.Z,{onClick:function(){r((0,j.bz)(l)),e.onMenuItemClick(),d()},children:[(0,b.jsx)(T.Z,{className:"min-w-40",children:(0,b.jsx)(g.default,{children:"heroicons-outline:trash"})}),(0,b.jsx)(U.Z,{primary:"Remove"})]})})})]})]}),t.map((function(n){return(0,b.jsx)(S.Z,{sx:{backgroundColor:function(e){return"light"===e.palette.mode?(0,q.$n)(e.palette.background.default,.4):(0,q.$n)(e.palette.background.default,.02)}},className:"p-4 md:p-16",align:n.align,padding:n.disablePadding?"none":"normal",sortDirection:e.order.id===n.id&&e.order.direction,children:n.sort&&(0,b.jsx)(z.Z,{title:"Sort",placement:"right"===n.align?"bottom-end":"bottom-start",enterDelay:300,children:(0,b.jsx)(O.Z,{active:e.order.id===n.id,direction:e.order.direction,onClick:(t=n.id,function(n){e.onRequestSort(n,t)}),className:"font-semibold",children:n.label})})},n.id);var t}),this)]})})};var G=(0,A.default)((function(e){var n=e.t,t=(0,p.useDispatch)(),l=(0,p.useSelector)(j.YN),a=(0,p.useSelector)(j.pd),i=(0,p.useSelector)(j.i0),o=(0,R.useState)(!0),s=(0,N.Z)(o,2),c=s[0],r=s[1],d=(0,R.useState)([]),u=(0,N.Z)(d,2),m=u[0],x=u[1],v=(0,R.useState)(l),A=(0,N.Z)(v,2),I=A[0],T=A[1],U=(0,R.useState)(0),_=(0,N.Z)(U,2),D=_[0],L=_[1],O=(0,R.useState)(10),z=(0,N.Z)(O,2),B=z[0],$=z[1],q=(0,R.useState)({direction:"asc",id:null}),G=(0,N.Z)(q,2),H=G[0],W=G[1];return(0,R.useEffect)((function(){t((0,j.Rf)({page:1,limit:10,search:""})).then((function(){return r(!1)}))}),[t]),(0,R.useEffect)((function(){0!==a.length&&0!==l.length?(T(w.default.filter(l,(function(e){return e.firstName.toLowerCase().includes(a.toLowerCase())}))),L(0)):T(l)}),[l,a]),c?(0,b.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,b.jsx)(M.default,{})}):0===i?(0,b.jsx)(f.E.div,{initial:{opacity:0},animate:{opacity:1,transition:{delay:.1}},className:"flex flex-1 items-center justify-center h-full",children:(0,b.jsx)(h.Z,{color:"text.secondary",variant:"h5",children:n("NO_USER")})}):(0,b.jsxs)("div",{className:"w-full flex flex-col min-h-full",children:[(0,b.jsx)(Z.default,{className:"grow overflow-x-auto",children:(0,b.jsxs)(y.Z,{stickyHeader:!0,className:"min-w-xl","aria-labelledby":"tableTitle",children:[(0,b.jsx)(F,{selectedProductIds:m,order:H,onSelectAllClick:function(e){e.target.checked?x(I.map((function(e){return e.uuid}))):x([])},onRequestSort:function(e,n){var t="desc";H.id===n&&"desc"===H.direction&&(t="asc"),W({direction:t,uuid:uuid})},rowCount:i,onMenuItemClick:function(){x([])},t:n}),(0,b.jsx)(P.Z,{children:w.default.orderBy(I,[function(e){return"categories"===H.uuid?e.categories[0]:e[H.uuid]}],[H.direction]).slice(D*B,D*B+B).map((function(t){var l=-1!==m.indexOf(t.uuid);return(0,b.jsxs)(E.Z,{className:"h-72 cursor-pointer",hover:!0,role:"checkbox","aria-checked":l,tabIndex:-1,selected:l,onClick:function(n){return function(n){e.navigate("/users-management/".concat(n.uuid))}(t)},children:[(0,b.jsx)(S.Z,{className:"w-40 md:w-64 text-center",padding:"none",children:(0,b.jsx)(k.Z,{checked:l,onClick:function(e){return e.stopPropagation()},onChange:function(e){return function(e,n){var t=m.indexOf(n),l=[];-1===t?l=l.concat(m,n):0===t?l=l.concat(m.slice(1)):t===m.length-1?l=l.concat(m.slice(0,-1)):t>0&&(l=l.concat(m.slice(0,t),m.slice(t+1))),x(l)}(0,t.uuid)}})}),(0,b.jsx)(S.Z,{className:"w-52 px-4 md:px-0",component:"th",scope:"row",padding:"none",children:null!==t&&void 0!==t&&t.photoURL?(0,b.jsx)("img",{className:"w-full block rounded",src:null===t||void 0===t?void 0:t.photoURL,alt:null===t||void 0===t?void 0:t.photoURL}):(0,b.jsx)("img",{className:"w-full block rounded",src:"assets/images/apps/ecommerce/product-image-placeholder.png",alt:t.firstName})}),(0,b.jsx)(S.Z,{className:"p-4 md:p-16",component:"th",scope:"row",children:null===t||void 0===t?void 0:t.mobile}),(0,b.jsx)(S.Z,{className:"p-4 md:p-16",component:"th",scope:"row",children:null===t||void 0===t?void 0:t.nationalCode}),(0,b.jsx)(S.Z,{className:"p-4 md:p-16",component:"th",scope:"row",children:null===t||void 0===t?void 0:t.firstName}),(0,b.jsx)(S.Z,{className:"p-4 md:p-16 truncate",component:"th",scope:"row",children:null===t||void 0===t?void 0:t.lastName}),(0,b.jsx)(S.Z,{className:"p-4 md:p-16",component:"th",scope:"row",children:null===t||void 0===t?void 0:t.email}),(0,b.jsx)(S.Z,{className:"p-4 md:p-16",component:"th",scope:"row",children:n(null===t||void 0===t?void 0:t.status)}),(0,b.jsx)(S.Z,{className:"p-32 md:p-32 flex",component:"th",scope:"row",align:"right",children:"APPROVED"===(null===t||void 0===t?void 0:t.status)?(0,b.jsx)(g.default,{className:"text-green",size:20,children:"heroicons-outline:check-circle"}):(0,b.jsx)(g.default,{className:"text-red",size:20,children:"heroicons-outline:minus-circle"})})]},t.uuid)}))})]})}),(0,b.jsx)(C.Z,{className:"shrink-0 border-t-1",component:"div",count:i,rowsPerPage:B,page:D,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onPageChange:function(e,n){L(n)},onRowsPerPageChange:function(e){$(e.target.value)},labelRowsPerPage:n("ROW_PER_PAGE"),labelDisplayedRows:function(e){var t=e.from,l=e.to,a=e.count;return"".concat(t," ").concat(n("TA")," ").concat(l,"  ").concat(n("OF")," ").concat(-1!==a?a:"".concat(n("MORE_THAN")," ").concat(l))}})]})})),H=t(96089);var W=(0,c.Z)("userManager",r.Z)((function(e){var n=o(e).isMobile,t=(0,a.$)("usersPage").t;return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(H.ql,{prioritizeSeoTags:!0,children:(0,b.jsx)("title",{children:t("USERS_MANAGER")})}),(0,b.jsx)(s.Z,{className:"p-32",header:(0,b.jsx)(v,(0,l.Z)({t:t},e)),content:(0,b.jsx)(G,(0,l.Z)({t:t},e)),scroll:n?"normal":"content"})]})}))}}]);