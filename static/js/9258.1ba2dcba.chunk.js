"use strict";(self.webpackChunkcipherland_code=self.webpackChunkcipherland_code||[]).push([[9258],{9258:function(e,t,a){a.r(t),a.d(t,{default:function(){return k}});var r=a(11026),n=a(82769),c=a(86612),s=a(64976),i=a(66845),l=a(96089),o=a(99898),d=a(67432),f=a(8783),u=a(14565),v=a(35269),x=a(45613),h=a(36580),m=a(60999),p=a(33694),j=a(4980),b=a(29669),y=a(29714),Z=a(98244),w=a(83249),g=a(8768),z=a(22762),N=a(40864);function k(e){(0,n.Z)(e);var t=(0,i.useState)(!0),a=(0,r.Z)(t,2),k=a[0],S=a[1],E=(0,v.useDispatch)(),I=(0,o.UO)(),L=(0,o.s0)(),M=(0,i.useState)(0),H=(0,r.Z)(M,2),T=H[0],U=H[1],A=(0,i.useState)({}),R=(0,r.Z)(A,2),Y=R[0],D=R[1],F=(0,i.useState)({}),B=(0,r.Z)(F,2),O=B[0],q=B[1],P=(0,i.useState)(!1),W=(0,r.Z)(P,2),_=W[0],K=W[1],G=(0,z.Ds)().enqueueSnackbar,J=(0,i.useRef)(),Q=(0,v.useSelector)((function(e){return e.LearnestApp.leitnerBox})),X=function(){"rotateY(180deg)"===J.current.style.transform?J.current.style.transform="rotateY(0deg)":J.current.style.transform="rotateY(180deg)"},$=function(e){S(!0);var t=+T+e;t>4&&(t=4),t<0&&(t=0);var a={isVocab:"vocab"===I.type,items:[{leitnerId:Y.id,box:t,isDoneToday:!0}]};(0,g.Z)("PUT","api/v1/learnest/leitner",{},{},a).then((function(e){var a=e.data;if(0===a.code){var r,n;"rotateY(180deg)"===(null===J||void 0===J||null===(r=J.current)||void 0===r||null===(n=r.style)||void 0===n?void 0:n.transform)&&(J.current.style.transform="rotateY(0deg)");var c=O[T];O[T]=c.filter((function(e){return e.id!==Y.id}));var s=Object.assign({},Y);s.shouldStudyToday=!1,O[t].push(s),q(O);var i=V(O);i.card?(D(i.card),U(i.boxIndex)):K(!0)}else G(a.message,{variant:"error"});S(!1)})).catch((function(e){e.response.data.errors.forEach((function(e){G(e,{variant:"error"})})),S(!1)}))};return(0,i.useEffect)((function(){if(0===(null===Q||void 0===Q?void 0:Q.code)){var e=function(e){var t={0:[],1:[],2:[],3:[],4:[]};return e.forEach((function(e){t[e.box].push(e)})),t}(Q.data.data);q(e);var t=V(e);t.card?(D(t.card),U(t.boxIndex)):K(!0),S(!1)}}),[Q]),(0,i.useEffect)((function(){var e="vocab"===I.type?"true":"false";E((0,x.mS)(e))}),[E]),(0,N.jsx)(c.Z,{content:(0,N.jsxs)("div",{className:"relative w-full h-[calc(100vh-64px)] sm:h-[calc(100vh-72px)]",children:[(0,N.jsx)(l.ql,{prioritizeSeoTags:!0,children:(0,N.jsx)("title",{children:(0,s.t)("Leitner | \u0644\u0627\u06cc\u062a\u0646\u0631")})}),k?(0,N.jsx)("div",{className:"absolute w-full flex justify-center \r top-0 left-0 items-center h-full bg-white bg-opacity-95",children:(0,N.jsx)(f.Z,{color:"secondary",size:60})}):(0,N.jsxs)("div",{className:"flex w-full h-full pt-32 pb-48 flex-col justify-between items-center",children:[(0,N.jsx)("div",{className:"flex flex-row-reverse w-full px-24 max-w-[520px] justify-around",children:[0,1,2,3,4].map((function(e){var t;return(0,N.jsxs)("div",{className:"flex flex-col items-center",children:[(0,N.jsx)(d.Z,{color:"primary",style:{fontSize:"50px"}}),(0,N.jsx)("div",{className:"my-4 text-15",children:(null===(t=O[e])||void 0===t?void 0:t.length)||0}),+T===e&&(0,N.jsx)(b.Z,{})]})}))}),(0,N.jsx)("div",{style:{perspective:"1000px"},className:"flex h-256 w-256 my-16 bg-transparent",children:(0,N.jsxs)("div",{className:" relative w-full h-full text-center shadow-xl\r !border-orange-700 border-solid border-1",style:{transition:"transform 0.8s",transformStyle:"preserve-3d"},ref:J,children:[(0,N.jsxs)("div",{style:{backfaceVisibility:"hidden",WebkitBackfaceVisibility:"hidden"},className:"absolute w-full h-full bg-white flex \r flex-col justify-center items-center pb-16",children:[Y.voiceUrl&&(0,N.jsx)(w.Z,{className:"my-4",onClick:function(){new Audio((0,Z.g)(Y.voiceUrl)).play()}}),Y.front&&(0,N.jsx)("div",{className:"text-20 my-4",children:Y.front}),(0,N.jsx)(y.Z,{className:"absolute right-16 bottom-12",onClick:X}),(0,N.jsx)(u.Z,{color:"error",onClick:function(){S(!0);var e={id:Y.id};(0,g.Z)("DELETE","api/v1/learnest/leitner",{},{},e).then((function(e){var t=e.data;if(0===t.code){var a=O[T];O[T]=a.filter((function(e){return e.id!==Y.id})),q(O);var r=V(O);r.card?(D(r.card),U(r.boxIndex)):K(!0),G("\u0622\u06cc\u062a\u0645 \u0645\u0648\u0631\u062f \u0646\u0638\u0631 \u0627\u0632 \u0644\u0627\u06cc\u062a\u0646\u0631 \u062d\u0630\u0641 \u0634\u062f",{variant:"success"})}else G(t.message,{variant:"error"});S(!1)})).catch((function(e){e.response.data.errors.forEach((function(e){G(e,{variant:"error"})})),S(!1)}))},className:"absolute left-8 bottom-4",children:"\u062d\u0630\u0641 \u06a9\u0627\u0631\u062a"})]}),(0,N.jsxs)("div",{style:{backfaceVisibility:"hidden",WebkitBackfaceVisibility:"hidden",transform:"rotateY(180deg)"},className:"absolute w-full h-full bg-white flex \r flex-col justify-center items-center pb-16",children:[Y.imageUrl&&(0,N.jsx)("img",{className:"h-[calc(100%-92px)] my-4",src:(0,Z.g)(Y.imageUrl)}),Y.back&&(0,N.jsx)("div",{className:"text-20 my-4",children:Y.back}),(0,N.jsx)(y.Z,{className:"absolute right-16 bottom-12",onClick:X})]})]})}),(0,N.jsxs)("div",{className:"flex w-full max-w-[300px] mt-32 flex-wrap gap-20",children:[(0,N.jsx)(u.Z,{className:"flex-1 min-w-120",variant:"contained",color:"success",startIcon:(0,N.jsx)(h.Z,{}),onClick:function(){$(2)},children:"\u06a9\u0627\u0645\u0644\u0627 \u0628\u0644\u062f\u0645"}),(0,N.jsx)(u.Z,{className:"flex-1 min-w-120",endIcon:(0,N.jsx)(j.Z,{style:{fontSize:"30px"}}),variant:"contained",color:"warning",onClick:function(){$(-1)},children:"\u06a9\u0645\u06cc \u0628\u0644\u062f\u0645"}),(0,N.jsx)(u.Z,{className:"flex-1 min-w-120",startIcon:(0,N.jsx)(p.Z,{style:{fontSize:"30px"}}),variant:"contained",color:"primary",onClick:function(){$(1)},children:"\u0628\u0644\u062f\u0645"}),(0,N.jsx)(u.Z,{className:"flex-1 min-w-120",endIcon:(0,N.jsx)(m.Z,{}),variant:"contained",color:"error",onClick:function(){$(-2)},children:"\u0628\u0644\u062f \u0646\u06cc\u0633\u062a\u0645"})]}),_&&(0,N.jsxs)("div",{className:"absolute z-9999 w-full h-[calc(100%-50px)] bg-white flex flex-col \r justify-between items-center pt-48 pb-64 px-24",children:[(0,N.jsx)("p",{className:"font-bold text-20 text-justify leading-8 max-w-[600px]",children:C}),(0,N.jsx)(u.Z,{className:"w-full sm:max-w-[200px]",variant:"contained",onClick:function(){return L(popPathname(2))},color:"primary",children:"\u0628\u0627\u0632\u06af\u0634\u062a"})]})]})]})})}function V(e){var t,a;return Object.keys(e).reverse().forEach((function(r){e[r].forEach((function(e){e.shouldStudyToday&&!a&&(t=r,a=e)}))})),{boxIndex:t,card:a}}var C="\u062f\u0648\u0633\u062a \u0644\u0631\u0646\u0633\u062a\u06cc \u0639\u0632\u06cc\u0632\u060c \u0634\u0645\u0627 \u062a\u0645\u0627\u0645 \u06a9\u0627\u0631\u062a \u0647\u0627\u06cc \u0645\u0648\u062c\u0648\u062f \u062f\u0631 \u062c\u0639\u0628\u0647 \u0644\u0627\u06cc\u062a\u0646\u0631 \u0631\u0627 \u0645\u0631\u0648\u0631 \u06a9\u0631\u062f\u0647 \u0627\u06cc\u062f. \u062f\u0631 \u0635\u0648\u0631\u062a\u06cc \u06a9\u0647 \u0627\u0645\u0631\u0648\u0632 \u06a9\u0627\u0631\u062a \u062c\u062f\u06cc\u062f\u06cc \u0627\u0636\u0627\u0641\u0647 \u06a9\u0646\u06cc\u062f \u0645\u06cc \u062a\u0648\u0627\u0646\u06cc\u062f \u0645\u062c\u062f\u062f \u0622\u0646\u0631\u0627 \u0645\u0634\u0627\u0647\u062f\u0647 \u0646\u0645\u0627\u06cc\u06cc\u062f \u0648 \u062f\u0631 \u063a\u06cc\u0631 \u0627\u06cc\u0646 \u0635\u0648\u0631\u062a \u0628\u0631\u0627\u06cc \u0627\u062f\u0627\u0645\u0647 \u0645\u0631\u0648\u0631 \u06a9\u0627\u0631\u062a \u0647\u0627\u06cc \u062f\u06cc\u062f\u0647 \u0634\u062f\u0647 \u062f\u0631 \u062c\u0639\u0628\u0647 \u0647\u0627\u06cc \u0644\u0627\u06cc\u062a\u0646\u0631 \u062a\u0627 \u0647\u0646\u06af\u0627\u0645 \u0641\u0631\u0627\u06af\u06cc\u0631\u06cc \u06a9\u0627\u0645\u0644 \u0648 \u062e\u0631\u0648\u062c \u0622\u0646\u0647\u0627 \u0627\u0632 \u0647\u0631 \u067e\u0646\u062c \u062c\u0639\u0628\u0647 \u0644\u0627\u06cc\u062a\u0646\u0631 \u0645\u062c\u062f\u062f\u0627 \u0648\u0627\u0631\u062f \u0627\u06cc\u0646 \u0628\u062e\u0634 \u0634\u0648\u06cc\u062f."},4980:function(e,t,a){var r=a(73203);t.Z=void 0;var n=r(a(75437)),c=a(40864),s=(0,n.default)((0,c.jsx)("path",{d:"m14 7-5 5 5 5V7z"}),"ArrowLeft");t.Z=s},33694:function(e,t,a){var r=a(73203);t.Z=void 0;var n=r(a(75437)),c=a(40864),s=(0,n.default)((0,c.jsx)("path",{d:"m10 17 5-5-5-5v10z"}),"ArrowRight");t.Z=s},36580:function(e,t,a){var r=a(73203);t.Z=void 0;var n=r(a(75437)),c=a(40864),s=(0,n.default)((0,c.jsx)("path",{d:"m4 18 8.5-6L4 6v12zm9-12v12l8.5-6L13 6z"}),"FastForward");t.Z=s},60999:function(e,t,a){var r=a(73203);t.Z=void 0;var n=r(a(75437)),c=a(40864),s=(0,n.default)((0,c.jsx)("path",{d:"M11 18V6l-8.5 6 8.5 6zm.5-6 8.5 6V6l-8.5 6z"}),"FastRewind");t.Z=s},29714:function(e,t,a){var r=a(73203);t.Z=void 0;var n=r(a(75437)),c=a(40864),s=(0,n.default)([(0,c.jsx)("path",{d:"M9 12c0 1.66 1.34 3 3 3s3-1.34 3-3-1.34-3-3-3-3 1.34-3 3z"},"0"),(0,c.jsx)("path",{d:"M8 9c0-.55-.45-1-1-1H5.09C6.47 5.61 9.05 4 12 4c3.49 0 6.45 2.24 7.54 5.36.14.39.53.64.94.64.68 0 1.18-.67.96-1.31C20.07 4.79 16.36 2 12 2 8.73 2 5.82 3.58 4 6.01V5c0-.55-.45-1-1-1s-1 .45-1 1v4c0 .55.45 1 1 1h4c.55 0 1-.45 1-1zm8 6c0 .55.45 1 1 1h1.91c-1.38 2.39-3.96 4-6.91 4-3.49 0-6.45-2.24-7.54-5.36-.14-.39-.53-.64-.94-.64-.68 0-1.18.67-.96 1.31C3.93 19.21 7.64 22 12 22c3.27 0 6.18-1.58 8-4.01V19c0 .55.45 1 1 1s1-.45 1-1v-4c0-.55-.45-1-1-1h-4c-.55 0-1 .45-1 1z"},"1")],"FlipCameraAndroidRounded");t.Z=s},67432:function(e,t,a){var r=a(73203);t.Z=void 0;var n=r(a(75437)),c=a(40864),s=(0,n.default)([(0,c.jsx)("path",{d:"M4 7h16V3.98L4 4zm1 13h14V9H5v11zm4-8h6v2H9v-2z",opacity:".3"},"0"),(0,c.jsx)("path",{d:"M20 2H4c-1 0-2 .9-2 2v3.01c0 .72.43 1.34 1 1.69V20c0 1.1 1.1 2 2 2h14c.9 0 2-.9 2-2V8.7c.57-.35 1-.97 1-1.69V4c0-1.1-1-2-2-2zm-1 18H5V9h14v11zm1-13H4V4l16-.02V7z"},"1"),(0,c.jsx)("path",{d:"M9 12h6v2H9z"},"2")],"Inventory2TwoTone");t.Z=s},29669:function(e,t,a){var r=a(73203);t.Z=void 0;var n=r(a(75437)),c=a(40864),s=(0,n.default)((0,c.jsx)("path",{d:"M8.12 14.71 12 10.83l3.88 3.88c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L12.7 8.71a.9959.9959 0 0 0-1.41 0L6.7 13.3c-.39.39-.39 1.02 0 1.41.39.38 1.03.39 1.42 0z"}),"KeyboardArrowUpRounded");t.Z=s},83249:function(e,t,a){var r=a(73203);t.Z=void 0;var n=r(a(75437)),c=a(40864),s=(0,n.default)((0,c.jsx)("path",{d:"M3 10v4c0 .55.45 1 1 1h3l3.29 3.29c.63.63 1.71.18 1.71-.71V6.41c0-.89-1.08-1.34-1.71-.71L7 9H4c-.55 0-1 .45-1 1zm13.5 2c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 4.45v.2c0 .38.25.71.6.85C17.18 6.53 19 9.06 19 12s-1.82 5.47-4.4 6.5c-.36.14-.6.47-.6.85v.2c0 .63.63 1.07 1.21.85C18.6 19.11 21 15.84 21 12s-2.4-7.11-5.79-8.4c-.58-.23-1.21.22-1.21.85z"}),"VolumeUpRounded");t.Z=s}}]);