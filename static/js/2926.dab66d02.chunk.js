"use strict";(self.webpackChunkcipherland_code=self.webpackChunkcipherland_code||[]).push([[2926],{82926:function(e,l,n){n.r(l),n.d(l,{default:function(){return C}});var t=n(50189),s=n(11026),r=n(65811),a=(n(60903),n(61927)),i=n(14565),c=n(4019),d=n(90694),o=n(22042),u=n(66845),f=n(35269),x=n(99898),p=n(78771),h=n(25358),m=n(13597),v=n(33416),j=n(82426),Z=n(22762),b=n(27393),w=n(32744),N=n(12921),g=n(40864);var y=n(44838),k=v.Ry().shape({title:v.Z_().required("You must enter a product name").min(5,"The product name must be at least 5 characters")});var C=(0,d.Z)("eCommerceApp",w.Z)((function(e){var l=(0,f.useDispatch)(),n=(0,f.useSelector)(b.Fn),d=((0,j.Z)((function(e){return e.breakpoints.down("lg")})),(0,u.useState)(!0)),v=(0,s.Z)(d,2),w=v[0],C=v[1],S=(0,x.UO)(),D=S.productId,V=(0,u.useState)(0),q=(0,s.Z)(V,2),F=(q[0],q[1],(0,Z.Ds)().enqueueSnackbar),Q=(0,u.useState)(!1),E=(0,s.Z)(Q,2),M=(E[0],E[1]),T=(0,x.s0)(),A=(0,u.useState)(null),I=(0,s.Z)(A,2),L=I[0],_=I[1],H=(0,h.cI)({mode:"onChange",defaultValues:{},resolver:(0,m.X)(k)}),O=H.reset,R=H.watch,W=H.control,z=(H.onChange,H.handleSubmit),G=H.formState,U=G.isValid,X=G.dirtyFields,Y=G.errors;return R(),(0,a.useDeepCompareEffect)((function(){l((0,b.wv)(D)).then((function(e){C(!1),e.payload||M(!0)}))}),[l,S]),(0,u.useEffect)((function(){O((0,t.Z)({},n))}),[n,O]),(0,u.useEffect)((function(){return function(){l((0,b.ms)()),M(!1)}}),[l]),w?(0,g.jsx)(r.default,{}):(0,g.jsx)(h.RV,(0,t.Z)((0,t.Z)({},H),{},{children:(0,g.jsxs)("div",{className:"w-full p-[24px] flex flex-col",children:[(0,g.jsxs)("div",{className:"w-full flex flex-row justify-between items-center",children:[(0,g.jsx)("div",{children:(0,g.jsxs)(c.Z,{className:"flex flex-row text-[22px]",children:[(0,g.jsx)(N.default,{size:22,className:"ml-[8px]",children:"heroicons-outline:plus-circle"}),"\u0627\u0641\u0632\u0648\u062f\u0646 \u062a\u06cc\u06a9\u062a \u062c\u062f\u06cc\u062f"]})}),(0,g.jsxs)("div",{children:["new"===D?null:(0,g.jsx)(i.Z,{className:"ml-8",variant:"contained",color:"error",onClick:function(e){e.preventDefault(),l((0,b.kh)(D)).then((function(){F("\u062a\u06cc\u06a9\u062a \u062d\u0630\u0641 \u0634\u062f",{variant:"success"}),T("/dashboard/user/ticketing")}))},children:"\u062d\u0630\u0641"}),(0,g.jsx)(i.Z,{className:"ml-8",variant:"contained",color:"secondary",type:"submit",disabled:p.default.isEmpty(X)||!U,onClick:z((function(e){var n=e.title,t=e.related,s=e.importance,r=e.details,a=(e.file,new FormData);a.append("title",n),a.append("related",t),a.append("importance",s),a.append("details",r),L?a.append("file",L,L.name):a.append("file",""),console.log("LOG DATA",a),"new"===D?l((0,b.HM)({body:a})).then((function(){F("\u062a\u06cc\u06a9\u062a \u0627\u0636\u0627\u0641\u0647 \u0634\u062f",{variant:"success"}),T("/dashboard/user/ticketing")})):l((0,b.MM)({body:a,productId:D})).then((function(){F("\u062a\u06cc\u06a9\u062a \u0627\u062f\u06cc\u062a \u0634\u062f",{variant:"success"}),T("/dashboard/user/ticketing")}))})),children:"\u062b\u0628\u062a"})]})]}),(0,g.jsxs)("div",{className:"flex w-full mt-[42px] flex-col",children:[(0,g.jsxs)("div",{className:"flex flex-col mt-[24px]",children:[(0,g.jsx)(c.Z,{className:"mb-[18px]",children:"\u0639\u0646\u0648\u0627\u0646 \u062a\u06cc\u06a9\u062a"}),(0,g.jsx)(h.Qr,{control:W,name:"title",render:function(e){var l,n=e.field;return(0,g.jsx)(o.Z,(0,t.Z)((0,t.Z)({},n),{},{required:!0,placeholder:"\u0639\u0646\u0648\u0627\u0646 \u062a\u06cc\u06a9\u062a",id:"title",error:!(null===Y||void 0===Y||!Y.title),helperText:null===(l=Y.title)||void 0===l?void 0:l.message,label:"\u0639\u0646\u0648\u0627\u0646 \u062a\u06cc\u06a9\u062a",autoFocus:!0,variant:"outlined",fullWidth:!0}))}})]}),(0,g.jsxs)("div",{className:"flex flex-row w-full mt-[24px]",children:[(0,g.jsxs)("div",{className:"flex flex-col w-[50%] pl-[16px]",children:[(0,g.jsx)(c.Z,{className:"mb-[18px]",children:"\u0645\u0631\u0628\u0648\u0637 \u0628\u0647"}),(0,g.jsx)(h.Qr,{control:W,name:"related",defaultValue:"courses",render:function(e){var l=e.field;return(0,g.jsxs)(o.Z,(0,t.Z)((0,t.Z)({select:!0,required:!0},l),{},{variant:"outlined",children:[(0,g.jsx)(y.Z,{value:"courses",children:"\u062f\u0648\u0631\u0647 \u0647\u0627"}),(0,g.jsx)(y.Z,{value:"library",children:"\u06a9\u062a\u0627\u0628\u062e\u0627\u0646\u0647"}),(0,g.jsx)(y.Z,{value:"content",children:"\u0645\u062d\u062a\u0648\u0627\u06cc \u0641\u0631\u0647\u0646\u06af\u06cc"}),(0,g.jsx)(y.Z,{value:"institutions",children:"\u0622\u0645\u0648\u0632\u0634\u06af\u0627\u0647 \u0647\u0627"}),(0,g.jsx)(y.Z,{value:"technical",children:"\u0641\u0646\u06cc"}),(0,g.jsx)(y.Z,{value:"other",children:"\u0633\u0627\u06cc\u0631"})]}))}})]}),(0,g.jsxs)("div",{className:"flex flex-col w-[50%] pr-[16px]",children:[(0,g.jsx)(c.Z,{className:"mb-[18px]",children:"\u0627\u0647\u0645\u06cc\u062a"}),(0,g.jsx)(h.Qr,{control:W,name:"importance",defaultValue:"Low",render:function(e){var l=e.field;return(0,g.jsxs)(o.Z,(0,t.Z)((0,t.Z)({select:!0,required:!0},l),{},{variant:"outlined",children:[(0,g.jsx)(y.Z,{value:"Low",children:"\u067e\u0627\u06cc\u06cc\u0646"}),(0,g.jsx)(y.Z,{value:"Medium",children:"\u0645\u062a\u0648\u0633\u0637"}),(0,g.jsx)(y.Z,{value:"High",children:"\u0628\u0627\u0644\u0627"})]}))}})]})]}),(0,g.jsxs)("div",{className:"flex flex-col w-full mt-[24px]",children:[(0,g.jsx)(c.Z,{className:"mb-[18px]",children:"\u0645\u062a\u0646 \u062a\u06cc\u06a9\u062a"}),(0,g.jsx)(h.Qr,{control:W,name:"details",defaultValue:"",render:function(e){var l,n=e.field;return(0,g.jsx)(o.Z,(0,t.Z)((0,t.Z)({},n),{},{placeholder:"\u062c\u0632\u06cc\u06cc\u0627\u062a",label:"\u0645\u062a\u0646 \u062a\u06cc\u06a9\u062a",id:"details",error:!!Y.notes,helperText:null===Y||void 0===Y||null===(l=Y.notes)||void 0===l?void 0:l.message,fullWidth:!0,multiline:!0}))}})]}),(0,g.jsx)("div",{className:"flex flex-col w-full mt-[24px] justify-start items-start",children:(0,g.jsx)(h.Qr,{control:W,name:"file",className:"mt-24",render:function(e){var l=e.field,n=l.onChange;l.value;return(0,g.jsxs)("label",{htmlFor:"file",className:"flex p-8 cursor-pointer justify-center",children:[(0,g.jsx)("input",{accept:".jpg, .jpeg, .png, .gif, .pdf, .doc, .docx, .ppt, .pptx, .txt",className:"hidden",id:"file",type:"file",onChange:function(e){var l=e.target.files[0];_(l),n(l)}}),(0,g.jsx)(c.Z,{color:"#000099",children:"\u0627\u0641\u0632\u0648\u062f\u0646 \u067e\u06cc\u0648\u0633\u062a"})]})}})})]})]})}))}))}}]);