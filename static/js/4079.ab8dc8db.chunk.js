"use strict";(self.webpackChunkcipherland_code=self.webpackChunkcipherland_code||[]).push([[4079],{84079:function(e,n,t){t.r(n),t.d(n,{default:function(){return U}});var a=t(50189),l=t(38708),i=t(82426);var o=function(e){return{isMobile:(0,i.Z)((function(e){return e.breakpoints.down("lg")}))}},r=t(60903),c=t(90694),s=t(44028),d=t(14565),u=t(19026),f=t(26162),h=t(4019),x=t(98225),m=t(35269),p=t(78684),g=t(12921),j=t(30737),b=t(40864);var Z=function(e){var n=e.t,t=(0,m.useDispatch)(),a=(0,m.useSelector)(j.OF);return(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row space-y-16 sm:space-y-0 flex-1 w-full items-center justify-between py-32 px-24 md:px-32",children:[(0,b.jsx)(h.Z,{component:x.E.span,initial:{x:-20},animate:{x:0,transition:{delay:.2}},delay:300,className:"text-20 md:text-32 font-extrabold tracking-tight",children:n("ROLE_MANAGER")}),(0,b.jsxs)("div",{className:"flex flex-col w-full sm:w-auto sm:flex-row space-y-16 sm:space-y-0 flex-1 items-center justify-end space-x-8",children:[(0,b.jsxs)(f.Z,{component:x.E.div,initial:{y:-20,opacity:0},animate:{y:0,opacity:1,transition:{delay:.2}},className:"flex items-center w-full sm:max-w-256 space-x-8 px-16 rounded-full border-1 shadow-0",children:[(0,b.jsx)(g.default,{color:"disabled",children:"heroicons-solid:search"}),(0,b.jsx)(u.Z,{placeholder:n("Search roles"),className:"flex flex-1",disableUnderline:!0,fullWidth:!0,value:a,inputProps:{"aria-label":"Search"},onChange:function(e){return t((0,j.a0)(e))}})]}),(0,b.jsx)(x.E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0,transition:{delay:.2}},children:(0,b.jsx)(d.Z,{className:"",component:p.Link,to:"/role-permission/roles/new",variant:"contained",color:"secondary",startIcon:(0,b.jsx)(g.default,{children:"heroicons-outline:plus"}),children:n("ADD")})})]})]})},v=t(11026),w=t(82524),k=t(78771),y=t(76489),N=t(70634),C=t(23179),P=t(55420),S=t(96023),R=t(38075),E=t(66845),O=t(66398),M=t(65811),A=t(4709),D=t(8747),I=t(83039),_=t(98338),$=t(44838),z=t(44713),L=t(70123),T=t(32531),B=t(65289),F=t(76803),q=t(33137),G=[{id:"title",align:"left",disablePadding:!1,label:"Title",sort:!0}];var H=function(e){var n=e.selectedProductIds,t=n.length,a=(0,E.useState)(null),l=(0,v.Z)(a,2),i=l[0],o=l[1],r=(0,m.useDispatch)();function c(){o(null)}return(0,b.jsx)(F.Z,{children:(0,b.jsxs)(R.Z,{className:"h-48 sm:h-64",children:[(0,b.jsxs)(P.Z,{sx:{backgroundColor:function(e){return"light"===e.palette.mode?(0,q.$n)(e.palette.background.default,.4):(0,q.$n)(e.palette.background.default,.02)}},padding:"none",className:"w-40 md:w-64 text-center z-99",children:[(0,b.jsx)(y.Z,{indeterminate:t>0&&t<e.rowCount,checked:0!==e.rowCount&&t===e.rowCount,onChange:e.onSelectAllClick}),t>0&&(0,b.jsxs)(B.Z,{className:"flex items-center justify-center absolute w-64 top-0 ltr:left-0 rtl:right-0 mx-56 h-64 z-10 border-b-1",sx:{background:function(e){return e.palette.background.default}},children:[(0,b.jsx)(A.Z,{"aria-owns":i?"selectedRolesMenu":null,"aria-haspopup":"true",onClick:function(e){o(e.currentTarget)},size:"large",children:(0,b.jsx)(g.default,{children:"heroicons-outline:dots-horizontal"})}),(0,b.jsx)(_.Z,{id:"selectedRolesMenu",anchorEl:i,open:Boolean(i),onClose:c,children:(0,b.jsx)(z.Z,{children:(0,b.jsxs)($.Z,{onClick:function(){r((0,j.rs)(n)),e.onMenuItemClick(),c()},children:[(0,b.jsx)(D.Z,{className:"min-w-40",children:(0,b.jsx)(g.default,{children:"heroicons-outline:trash"})}),(0,b.jsx)(I.Z,{primary:"Remove"})]})})})]})]}),G.map((function(n){return(0,b.jsx)(P.Z,{sx:{backgroundColor:function(e){return"light"===e.palette.mode?(0,q.$n)(e.palette.background.default,.4):(0,q.$n)(e.palette.background.default,.02)}},className:"p-4 md:p-16",align:n.align,padding:n.disablePadding?"none":"normal",sortDirection:e.order.id===n.id&&e.order.direction,children:n.sort&&(0,b.jsx)(T.Z,{title:"Sort",placement:"right"===n.align?"bottom-end":"bottom-start",enterDelay:300,children:(0,b.jsx)(L.Z,{active:e.order.id===n.id,direction:e.order.direction,onClick:(t=n.id,function(n){e.onRequestSort(n,t)}),className:"font-semibold",children:n.label})})},n.id);var t}),this)]})})};var W=(0,O.default)((function(e){var n=e.t,t=(0,m.useDispatch)(),a=(0,m.useSelector)(j.g$),l=(0,m.useSelector)(j.OF),i=(0,m.useSelector)(j.cz),o=(0,E.useState)(!0),r=(0,v.Z)(o,2),c=r[0],s=r[1],d=(0,E.useState)([]),u=(0,v.Z)(d,2),f=u[0],p=u[1],g=(0,E.useState)(a),Z=(0,v.Z)(g,2),O=Z[0],A=Z[1],D=(0,E.useState)(0),I=(0,v.Z)(D,2),_=I[0],$=I[1],z=(0,E.useState)(10),L=(0,v.Z)(z,2),T=L[0],B=L[1],F=(0,E.useState)({direction:"asc",id:null}),q=(0,v.Z)(F,2),G=q[0],W=q[1];return(0,E.useEffect)((function(){t((0,j.F3)()).then((function(){return s(!1)}))}),[t]),(0,E.useEffect)((function(){0!==l.length&&0!==a.length?(A(k.default.filter(a,(function(e){return e.title.toLowerCase().includes(l.toLowerCase())}))),$(0)):A(a)}),[a,l]),c?(0,b.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,b.jsx)(M.default,{})}):0===i?(0,b.jsx)(x.E.div,{initial:{opacity:0},animate:{opacity:1,transition:{delay:.1}},className:"flex flex-1 items-center justify-center h-full",children:(0,b.jsx)(h.Z,{color:"text.secondary",variant:"h5",children:n("NO_ROLE")})}):(0,b.jsxs)("div",{className:"w-full flex flex-col min-h-full",children:[(0,b.jsx)(w.default,{className:"grow overflow-x-auto",children:(0,b.jsxs)(N.Z,{stickyHeader:!0,className:"min-w-xl","aria-labelledby":"tableTitle",children:[(0,b.jsx)(H,{selectedProductIds:f,order:G,onSelectAllClick:function(e){e.target.checked?p(O.map((function(e){return e.id}))):p([])},onRequestSort:function(e,n){var t=n,a="desc";G.id===n&&"desc"===G.direction&&(a="asc"),W({direction:a,id:t})},rowCount:i,onMenuItemClick:function(){p([])}}),(0,b.jsx)(C.Z,{children:k.default.orderBy(O,[function(e){return"categories"===G.id?e.categories[0]:e[G.id]}],[G.direction]).slice(_*T,_*T+T).map((function(n){var t=-1!==f.indexOf(n.uuid);return(0,b.jsxs)(R.Z,{className:"h-72 cursor-pointer",hover:!0,role:"checkbox","aria-checked":t,tabIndex:-1,selected:t,onClick:function(t){return function(n){e.navigate("/role-permission/roles/".concat(n.uuid))}(n)},children:[(0,b.jsx)(P.Z,{className:"w-40 md:w-64 text-center",padding:"none",children:(0,b.jsx)(y.Z,{checked:t,onClick:function(e){return e.stopPropagation()},onChange:function(e){return function(e,n){var t=f.indexOf(n),a=[];-1===t?a=a.concat(f,n):0===t?a=a.concat(f.slice(1)):t===f.length-1?a=a.concat(f.slice(0,-1)):t>0&&(a=a.concat(f.slice(0,t),f.slice(t+1))),p(a)}(0,n.uuid)}})}),(0,b.jsx)(P.Z,{className:"p-4 md:p-16",component:"th",scope:"row",children:null===n||void 0===n?void 0:n.title})]},n.uuid)}))})]})}),(0,b.jsx)(S.Z,{className:"shrink-0 border-t-1",component:"div",count:i,rowsPerPage:T,page:_,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onPageChange:function(e,n){$(n)},onRowsPerPageChange:function(e){B(e.target.value)},labelRowsPerPage:n("ROW_PER_PAGE"),labelDisplayedRows:function(e){var t=e.from,a=e.to,l=e.count;return"".concat(t," ").concat(n("TA")," ").concat(a,"  ").concat(n("OF")," ").concat(-1!==l?l:"".concat(n("MORE_THAN")," ").concat(a))}})]})}));var U=(0,c.Z)("roleManager",s.Z)((function(e){var n=o(e).isMobile,t=(0,l.$)("rolesPage").t;return(0,b.jsx)(r.Z,{className:"pb-32",header:(0,b.jsx)(Z,(0,a.Z)({t:t},e)),content:(0,b.jsx)(W,(0,a.Z)({t:t},e)),scroll:n?"normal":"content"})}))}}]);