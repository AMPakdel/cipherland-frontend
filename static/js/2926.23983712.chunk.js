"use strict";(self.webpackChunkcipherland_code=self.webpackChunkcipherland_code||[]).push([[2926],{82926:function(e,l,n){n.r(l),n.d(l,{default:function(){return S}});var r=n(50189),t=n(11026),s=n(65811),a=(n(60903),n(61927)),i=n(14565),c=n(4019),d=n(90694),o=n(22042),u=n(66845),x=n(35269),f=n(99898),h=n(78771),p=n(25358),m=n(13597),j=n(33416),v=n(82426),Z=n(22762),b=n(27393),w=n(32744),N=n(12921),g=n(40864);var k=n(44838),y=n(96089),C=j.Ry().shape({title:j.Z_().required("You must enter a product name").min(5,"The product name must be at least 5 characters")});var S=(0,d.Z)("eCommerceApp",w.Z)((function(e){var l=(0,x.useDispatch)(),n=(0,x.useSelector)(b.Fn),d=((0,v.Z)((function(e){return e.breakpoints.down("lg")})),(0,u.useState)(!0)),j=(0,t.Z)(d,2),w=j[0],S=j[1],F=(0,f.UO)(),q=F.productId,D=(0,u.useState)(0),T=(0,t.Z)(D,2),V=(T[0],T[1],(0,Z.Ds)().enqueueSnackbar),Q=(0,u.useState)(!1),E=(0,t.Z)(Q,2),A=(E[0],E[1]),I=(0,f.s0)(),L=(0,u.useState)(null),M=(0,t.Z)(L,2),_=M[0],z=M[1],H=(0,p.cI)({mode:"onChange",defaultValues:{},resolver:(0,m.X)(C)}),O=H.reset,R=H.watch,W=H.control,G=(H.onChange,H.handleSubmit),U=H.formState,X=U.isValid,Y=U.dirtyFields,B=U.errors;function J(){return(0,g.jsx)(y.ql,{prioritizeSeoTags:!0,children:(0,g.jsx)("title",{children:"Create Ticket | \u0627\u06cc\u062c\u0627\u062f \u062a\u06cc\u06a9\u062a"})})}return R(),(0,a.useDeepCompareEffect)((function(){l((0,b.wv)(q)).then((function(e){S(!1),e.payload||A(!0)}))}),[l,F]),(0,u.useEffect)((function(){O((0,r.Z)({},n))}),[n,O]),(0,u.useEffect)((function(){return function(){l((0,b.ms)()),A(!1)}}),[l]),w?(0,g.jsxs)(g.Fragment,{children:[J(),(0,g.jsx)(s.default,{})]}):(0,g.jsxs)(g.Fragment,{children:[J(),(0,g.jsx)(p.RV,(0,r.Z)((0,r.Z)({},H),{},{children:(0,g.jsxs)("div",{className:"w-full p-[24px] flex flex-col",children:[(0,g.jsxs)("div",{className:"w-full flex flex-row justify-between items-center",children:[(0,g.jsx)("div",{children:(0,g.jsxs)(c.Z,{className:"flex flex-row text-[22px]",children:[(0,g.jsx)(N.default,{size:22,className:"ml-[8px]",children:"heroicons-outline:plus-circle"}),"\u0627\u0641\u0632\u0648\u062f\u0646 \u062a\u06cc\u06a9\u062a \u062c\u062f\u06cc\u062f"]})}),(0,g.jsxs)("div",{children:["new"===q?null:(0,g.jsx)(i.Z,{className:"ml-8",variant:"contained",color:"error",onClick:function(e){e.preventDefault(),l((0,b.kh)(q)).then((function(){V("\u062a\u06cc\u06a9\u062a \u062d\u0630\u0641 \u0634\u062f",{variant:"success"}),I("/dashboard/user/ticketing")}))},children:"\u062d\u0630\u0641"}),(0,g.jsx)(i.Z,{className:"ml-8",variant:"contained",color:"secondary",type:"submit",disabled:h.default.isEmpty(Y)||!X,onClick:G((function(e){var n=e.title,r=e.related,t=e.importance,s=e.details,a=(e.file,new FormData);a.append("title",n),a.append("related",r),a.append("importance",t),a.append("details",s),_?a.append("file",_,_.name):a.append("file",""),console.log("LOG DATA",a),"new"===q?l((0,b.HM)({body:a})).then((function(){V("\u062a\u06cc\u06a9\u062a \u0627\u0636\u0627\u0641\u0647 \u0634\u062f",{variant:"success"}),I("/dashboard/user/ticketing")})):l((0,b.MM)({body:a,productId:q})).then((function(){V("\u062a\u06cc\u06a9\u062a \u0627\u062f\u06cc\u062a \u0634\u062f",{variant:"success"}),I("/dashboard/user/ticketing")}))})),children:"\u062b\u0628\u062a"})]})]}),(0,g.jsxs)("div",{className:"flex w-full mt-[42px] flex-col",children:[(0,g.jsxs)("div",{className:"flex flex-col mt-[24px]",children:[(0,g.jsx)(c.Z,{className:"mb-[18px]",children:"\u0639\u0646\u0648\u0627\u0646 \u062a\u06cc\u06a9\u062a"}),(0,g.jsx)(p.Qr,{control:W,name:"title",render:function(e){var l,n=e.field;return(0,g.jsx)(o.Z,(0,r.Z)((0,r.Z)({},n),{},{required:!0,placeholder:"\u0639\u0646\u0648\u0627\u0646 \u062a\u06cc\u06a9\u062a",id:"title",error:!(null===B||void 0===B||!B.title),helperText:null===(l=B.title)||void 0===l?void 0:l.message,label:"\u0639\u0646\u0648\u0627\u0646 \u062a\u06cc\u06a9\u062a",autoFocus:!0,variant:"outlined",fullWidth:!0}))}})]}),(0,g.jsxs)("div",{className:"flex flex-row w-full mt-[24px]",children:[(0,g.jsxs)("div",{className:"flex flex-col w-[50%] pl-[16px]",children:[(0,g.jsx)(c.Z,{className:"mb-[18px]",children:"\u0645\u0631\u0628\u0648\u0637 \u0628\u0647"}),(0,g.jsx)(p.Qr,{control:W,name:"related",defaultValue:"courses",render:function(e){var l=e.field;return(0,g.jsxs)(o.Z,(0,r.Z)((0,r.Z)({select:!0,required:!0},l),{},{variant:"outlined",children:[(0,g.jsx)(k.Z,{value:"courses",children:"\u062f\u0648\u0631\u0647 \u0647\u0627"}),(0,g.jsx)(k.Z,{value:"library",children:"\u06a9\u062a\u0627\u0628\u062e\u0627\u0646\u0647"}),(0,g.jsx)(k.Z,{value:"content",children:"\u0645\u062d\u062a\u0648\u0627\u06cc \u0641\u0631\u0647\u0646\u06af\u06cc"}),(0,g.jsx)(k.Z,{value:"institutions",children:"\u0622\u0645\u0648\u0632\u0634\u06af\u0627\u0647 \u0647\u0627"}),(0,g.jsx)(k.Z,{value:"technical",children:"\u0641\u0646\u06cc"}),(0,g.jsx)(k.Z,{value:"other",children:"\u0633\u0627\u06cc\u0631"})]}))}})]}),(0,g.jsxs)("div",{className:"flex flex-col w-[50%] pr-[16px]",children:[(0,g.jsx)(c.Z,{className:"mb-[18px]",children:"\u0627\u0647\u0645\u06cc\u062a"}),(0,g.jsx)(p.Qr,{control:W,name:"importance",defaultValue:"Low",render:function(e){var l=e.field;return(0,g.jsxs)(o.Z,(0,r.Z)((0,r.Z)({select:!0,required:!0},l),{},{variant:"outlined",children:[(0,g.jsx)(k.Z,{value:"Low",children:"\u067e\u0627\u06cc\u06cc\u0646"}),(0,g.jsx)(k.Z,{value:"Normal",children:"\u0645\u062a\u0648\u0633\u0637"}),(0,g.jsx)(k.Z,{value:"High",children:"\u0628\u0627\u0644\u0627"})]}))}})]})]}),(0,g.jsxs)("div",{className:"flex flex-col w-full mt-[24px]",children:[(0,g.jsx)(c.Z,{className:"mb-[18px]",children:"\u0645\u062a\u0646 \u062a\u06cc\u06a9\u062a"}),(0,g.jsx)(p.Qr,{control:W,name:"details",defaultValue:"",render:function(e){var l,n=e.field;return(0,g.jsx)(o.Z,(0,r.Z)((0,r.Z)({},n),{},{placeholder:"\u062c\u0632\u06cc\u06cc\u0627\u062a",label:"\u0645\u062a\u0646 \u062a\u06cc\u06a9\u062a",id:"details",error:!!B.notes,helperText:null===B||void 0===B||null===(l=B.notes)||void 0===l?void 0:l.message,fullWidth:!0,multiline:!0}))}})]}),(0,g.jsx)("div",{className:"flex flex-col w-full mt-[24px] justify-start items-start",children:(0,g.jsx)(p.Qr,{control:W,name:"file",className:"mt-24",render:function(e){var l=e.field,n=l.onChange;l.value;return(0,g.jsxs)("label",{htmlFor:"file",className:"flex p-8 cursor-pointer justify-center",children:[(0,g.jsx)("input",{accept:".jpg, .jpeg, .png, .gif, .pdf, .doc, .docx, .ppt, .pptx, .txt",className:"hidden",id:"file",type:"file",onChange:function(e){var l=e.target.files[0];z(l),n(l)}}),(0,g.jsx)(c.Z,{color:"#000099",children:"\u0627\u0641\u0632\u0648\u062f\u0646 \u067e\u06cc\u0648\u0633\u062a"})]})}})})]})]})}))]})}))}}]);