"use strict";(self.webpackChunkcipherland_code=self.webpackChunkcipherland_code||[]).push([[9087],{39087:function(e,n,i){i.r(n),i.d(n,{default:function(){return Ce}});var r=i(11026),t=i(66845),s=i(11092),l=i(27791),c=i(4019),a=i(14565),o=i(22042),d=i(36953),u=i(54753),x=i(31644),f=i(35269),p=i(81051),m=i(99898),h=i(22762),v=i(75866),j=i(32060),Z=i(57495),g=i(45960),b=i.n(g),N=i(40864),y={color:"#11c5e3",fontSize:36},w=function(){var e=(0,f.useDispatch)(),n=((0,f.useSelector)(p.In),(0,t.useState)({})),i=(0,r.Z)(n,2),g=i[0],w=i[1],C=(0,m.UO)(),D=(0,h.Ds)().enqueueSnackbar,P=(0,f.useSelector)(p.RS),k=(0,t.useState)(null),S=(0,r.Z)(k,2),A=(S[0],S[1]),O=(0,t.useState)(0),I=(0,r.Z)(O,2),T=I[0],E=I[1],q=(0,t.useState)(null),B=(0,r.Z)(q,2),R=(B[0],B[1]),F=function(){var e=(0,l.Z)((0,s.Z)().mark((function e(n){var i,r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.target.files[0],R(i),(r=new FormData).append("file",i),e.prev=4,e.next=7,b().patch((0,j.EP)()+"/academy/course/adv/".concat(C.course_id),r,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+Z.Z.getAccessToken()},onUploadProgress:function(e){var n=Math.round(100*e.loaded/e.total);E(n)}});case 7:e.sent,E(0),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),console.error("Error uploading video:",e.t0);case 14:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(n){return e.apply(this,arguments)}}(),H=function(){var e=(0,l.Z)((0,s.Z)().mark((function e(n){var i,r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=n.target.files[0],A(i),(r=new FormData).append("file",i),(0,v.Z)("PATCH",(0,j.EP)()+"/academy/course/cover/".concat(C.course_id),{Authorization:"Bearer "+Z.Z.getAccessToken()},{},r).then((function(e){0==e.data.code||D("\u062e\u0637\u0627 \u062f\u0631 \u062b\u0628\u062a \u0627\u0637\u0644\u0627\u0639\u0627\u062a",{variant:"error"})})).catch((function(e){D("\u062e\u0637\u0627 \u062f\u0631 \u0627\u0631\u062a\u0628\u0627\u0637 \u0628\u0627 \u0633\u0631\u0648\u0631",{variant:"error"})}));case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),z=function(){var e,n,i=!0,r={};return null!==(e=P.briefDescription)&&void 0!==e&&e.length&&P.briefDescription.length<100&&(i=!1,r.briefDescription="\u0628\u0627\u06cc\u062f \u062d\u062f\u0627\u0642\u0644 100 \u06a9\u0627\u0631\u0627\u06a9\u062a\u0631 \u0628\u0627\u0634\u062f"),null!==(n=P.immenseDescription)&&void 0!==n&&n.length&&P.immenseDescription.length<100&&(i=!1,r.immenseDescription="\u0628\u0627\u06cc\u062f \u062d\u062f\u0627\u0642\u0644 100 \u06a9\u0627\u0631\u0627\u06a9\u062a\u0631 \u0628\u0627\u0634\u062f"),w(r),i};return(0,N.jsxs)("div",{className:"w-full p-[24px] flex flex-col",children:[(0,N.jsxs)("div",{className:"w-full flex flex-row justify-between items-center",children:[(0,N.jsx)("div",{children:(0,N.jsx)(c.Z,{className:"flex flex-row text-[22px]",children:"\u0635\u0641\u062d\u0647 \u0641\u0631\u0648\u062f"})}),(0,N.jsx)("div",{children:(0,N.jsx)(a.Z,{className:"ml-8",variant:"contained",color:"primary",type:"submit",onClick:function(){z()&&(e((0,p.K4)(!0)),(0,v.Z)("PATCH",(0,j.EP)()+"/academy/course/landingInfo/".concat(C.course_id),{Authorization:"Bearer "+Z.Z.getAccessToken()},{},function(e){var n={};e.briefDescription?n.briefDescription=e.briefDescription:n.briefDescription=null;e.immenseDescription?n.immenseDescription=e.immenseDescription:n.immenseDescription=null;return n}(P)).then((function(e){0==e.data.code?D(" \u0627\u0637\u0644\u0627\u0639\u0627\u062a \u062f\u0648\u0631\u0647 \u0628\u0627 \u0645\u0648\u0641\u0642\u06cc\u062a \u0630\u062e\u06cc\u0631\u0647 \u0634\u062f",{variant:"success"}):D("\u062e\u0637\u0627 \u062f\u0631 \u062b\u0628\u062a \u0627\u0637\u0644\u0627\u0639\u0627\u062a",{variant:"error"})})).catch((function(e){D("\u062e\u0637\u0627 \u062f\u0631 \u0627\u0631\u062a\u0628\u0627\u0637 \u0628\u0627 \u0633\u0631\u0648\u0631",{variant:"error"})})).finally((function(){e((0,p.K4)(!1))})))},children:"\u0630\u062e\u06cc\u0631\u0647"})})]}),(0,N.jsx)("div",{className:"flex w-full mt-[42px] flex-col",children:(0,N.jsxs)("div",{className:"flex flex-col mt-[24px]",children:[(0,N.jsx)(c.Z,{className:"mb-[18px]",children:"\u062a\u0648\u0636\u06cc\u062d \u0645\u062e\u062a\u0635\u0631 \u0628\u0631\u0627\u06cc \u0627\u06cc\u0646 \u062f\u0648\u0631\u0647"}),(0,N.jsx)(o.Z,{required:!0,placeholder:"\u0628\u0631\u0627\u06cc \u0645\u062b\u0627\u0644: \u06cc\u0647 \u0634\u0631\u0648\u0639 \u062e\u0648\u0628 \u0648\u0627\u0633\u0647 \u06cc\u0627\u062f\u06af\u06cc\u0631\u06cc \u0641\u06cc\u0644\u0645\u0646\u0627\u0645\u0647 \u0646\u0648\u06cc\u0633\u06cc ",error:!(null===g||void 0===g||!g.briefDescription),helperText:g.briefDescription||!1,value:P.briefDescription,onChange:function(n){return function(n){var i=_.cloneDeep(P);i.briefDescription=n,e((0,p.ZG)(i))}(n.target.value)},variant:"outlined",fullWidth:!0,multiline:!0,rows:5,InputProps:{style:{lineHeight:1.5}}})]})}),(0,N.jsxs)("div",{className:"flex w-full mt-[42px] flex-col",children:[(0,N.jsxs)("div",{className:"flex flex-col mt-[24px]",children:[(0,N.jsx)(c.Z,{className:"mb-[18px]",children:"\u062a\u0648\u0636\u06cc\u062d \u06a9\u0627\u0645\u0644 \u0628\u0631\u0627\u06cc \u0627\u06cc\u0646 \u062f\u0648\u0631\u0647"}),(0,N.jsx)(o.Z,{required:!0,placeholder:"\u0644\u0648\u0631\u0645 \u0627\u06cc\u067e\u0633\u0648\u0645 \u06cc\u06a9 \u0645\u062a\u0646 \u0633\u0627\u062e\u062a\u06af\u06cc \u0627\u0633\u062a \u06a9\u0647 ",variant:"outlined",fullWidth:!0,error:!(null===g||void 0===g||!g.immenseDescription),helperText:g.immenseDescription||!1,value:P.immenseDescription,onChange:function(n){return function(n){var i=_.cloneDeep(P);i.immenseDescription=n,e((0,p.ZG)(i))}(n.target.value)},multiline:!0,rows:8,InputProps:{style:{lineHeight:1.5}}})]}),(0,N.jsxs)("div",{children:[(0,N.jsx)(c.Z,{className:"flex flex-row text-[22px] mb-[24px] mt-[42px]",children:"\u0639\u06a9\u0633 \u06a9\u0627\u0648\u0631"}),(0,N.jsxs)("div",{className:"flex flex-row mt-7",children:[(0,N.jsx)("div",{children:(0,N.jsx)("div",{className:"box mx-4",style:{border:"2px dashed #11c5e3",padding:"10px",borderRadius:"8px"},children:(0,N.jsxs)("label",{htmlFor:"fileInput",style:{cursor:"pointer"},children:[(0,N.jsx)(u.Z,{style:y}),(0,N.jsx)("input",{type:"file",id:"fileInput",accept:" .jpg, .jpeg, .png, .gif",style:{display:"none"},onChange:H})]})})}),(0,N.jsxs)("div",{className:"flex flex-col mr-4 ",children:[(0,N.jsx)(c.Z,{className:"text-[18px]",children:"\u0627\u0646\u062a\u062e\u0627\u0628 \u0639\u06a9\u0633 \u06a9\u0627\u0648\u0631"}),(0,N.jsx)(c.Z,{children:"\u0627\u06cc\u0646 \u0639\u06a9\u0633 \u0628\u0627\u06cc\u062f \u0645\u0631\u0628\u0648\u0637 \u0628\u0647 \u0645\u062d\u062a\u0648\u0627\u06cc \u062f\u0648\u0631\u0647 \u0628\u0627\u0634\u062f"})]})]})]}),(0,N.jsxs)("div",{className:"mb-2",children:[(0,N.jsx)(c.Z,{className:"flex flex-row text-[22px] mb-[24px] mt-[42px]",children:"\u0648\u06cc\u062f\u06cc\u0648 \u062a\u0628\u0644\u06cc\u063a \u0627\u06cc\u0646 \u062f\u0648\u0631\u0647"}),(0,N.jsxs)("div",{className:"flex flex-row mt-7",children:[(0,N.jsx)("div",{children:(0,N.jsx)("div",{className:"box mx-4",style:{border:"2px dashed #11c5e3",padding:"10px",borderRadius:"8px"},children:(0,N.jsxs)("label",{htmlFor:"videoInput",style:{cursor:"pointer"},children:[(0,N.jsx)(x.Z,{style:y}),(0,N.jsx)("input",{type:"file",accept:".mp4",id:"videoInput",style:{display:"none"},onChange:F})]})})}),(0,N.jsxs)("div",{className:"flex flex-col mr-4 ",children:[(0,N.jsx)(c.Z,{className:"text-[18px]",children:"\u0627\u0646\u062a\u062e\u0627\u0628 \u0648\u06cc\u062f\u06cc\u0648"}),(0,N.jsx)(c.Z,{children:"\u0627\u06cc\u0646 \u0648\u06cc\u062f\u06cc\u0648 \u0628\u0627\u06cc\u062f \u0645\u0631\u0628\u0648\u0637 \u0628\u0647 \u0645\u062d\u062a\u0648\u0627\u06cc \u062f\u0648\u0631\u0647 \u0628\u0627\u0634\u062f"})]})]}),T>0&&(0,N.jsx)(d.Z,{variant:"determinate",value:T,style:{marginTop:"10px"}})]})]})]})};var C=i(4709),D=i(65289),P=(i(12921),i(64201)),k=i(77418),S=i(1488),A=i(9127),O=i(72706),I=i.n(O);function T(e){var n=e.open,i=e.setOpen,s=(0,f.useDispatch)(),l=(0,f.useSelector)(p.rE),c=(0,t.useState)(""),d=(0,r.Z)(c,2),u=d[0],x=d[1],m=(0,t.useState)({}),h=(0,r.Z)(m,2),v=h[0],j=h[1],Z=function(){var e=!0,n={};return u||(e=!1,n.title=!0),j(n),e};return(0,N.jsx)(A.Z,{className:"rounded-16 bg-white w-[calc(100%-36px)] min-h-[250px] max-w-[420px]",open:n,setOpen:i,children:(0,N.jsxs)("div",{className:"px-36 py-36 pt-16",children:[(0,N.jsx)("div",{className:"py-16 text-20 font-bold",children:"\u0639\u0646\u0648\u0627\u0646 \u0633\u0631\u0641\u0635\u0644"}),(0,N.jsx)(o.Z,{className:"w-full",title:"\u0639\u0646\u0648\u0627\u0646 \u0633\u0631\u0641\u0635\u0644",error:v.title,value:u,onChange:function(e){return x(e.target.value)}}),(0,N.jsx)("div",{className:"flex w-full gap-12 justify-end mt-36",children:(0,N.jsx)(a.Z,{variant:"contained",color:"primary",onClick:function(){if(Z()){var e=I().cloneDeep(l);e.push({index:e.length,title:u,items:[]}),s((0,p.kZ)(e)),x(""),i(!1)}},children:"\u062b\u0628\u062a"})})]})})}var E=i(12307),q=i(66747),B=i(68194),R=i(42167),F=i(53944);function H(e){var n=e.open,i=e.setOpen,s=e.section,l=(0,f.useDispatch)(),c=(0,f.useSelector)(p.rE),d=(0,t.useState)(""),u=(0,r.Z)(d,2),x=u[0],m=u[1],h=(0,t.useState)("video"),v=(0,r.Z)(h,2),j=v[0],Z=v[1],g=(0,t.useState)({}),b=(0,r.Z)(g,2),y=b[0],w=b[1],C=function(){var e=!0,n={};return x||(e=!1,n.title=!0),w(n),e};return(0,N.jsx)(A.Z,{className:"rounded-16 bg-white w-[calc(100%-36px)] min-h-[250px] max-w-[420px]",open:n,setOpen:i,children:(0,N.jsxs)("div",{className:"px-36 py-36 pt-16",children:[(0,N.jsx)("div",{className:"py-16 text-20 font-bold",children:"\u0639\u0646\u0648\u0627\u0646 \u062c\u0644\u0633\u0647"}),(0,N.jsx)(o.Z,{className:"w-full",title:"\u0639\u0646\u0648\u0627\u0646 \u062c\u0644\u0633\u0647",error:y.title,value:x,onChange:function(e){return m(e.target.value)}}),(0,N.jsxs)(E.Z,{children:[(0,N.jsx)(q.Z,{id:"demo-radio-buttons-group-label",children:(0,N.jsx)("div",{className:"font-bold text-14 py-8",children:"\u0639\u0646\u0648\u0627\u0646 \u062c\u0644\u0633\u0647"})}),(0,N.jsxs)(B.Z,{defaultValue:"video",value:j,onChange:function(e,n){Z(n)},children:[(0,N.jsx)(R.Z,{value:"video",control:(0,N.jsx)(F.Z,{}),label:"\u0648\u06cc\u062f\u06cc\u0648"}),(0,N.jsx)(R.Z,{value:"file",control:(0,N.jsx)(F.Z,{}),label:"\u0641\u0627\u06cc\u0644"})]})]}),(0,N.jsx)("div",{className:"flex w-full gap-12 justify-end mt-36",children:(0,N.jsx)(a.Z,{variant:"contained",color:"primary",onClick:function(){if(C()){var e=I().cloneDeep(c);e.forEach((function(e){e.index==s.index&&e.items.push({index:e.items.length,title:x,content:{uuid:null,type:j}})})),l((0,p.kZ)(e)),m(""),i(!1)}},children:"\u062b\u0628\u062a"})})]})})}function z(e){var n=e.open,i=e.setOpen,r=e.type,t=e.section,s=e.item,l=(0,f.useDispatch)(),c=(0,f.useSelector)(p.rE),o=function(e){var n=I().cloneDeep(c);n=n.filter((function(n){if(n.index!==e.index)return!0})),l((0,p.kZ)(n)),i(!1)},d=function(e,n){var r=I().cloneDeep(c);r.forEach((function(e){e.index==t.index&&(e.items=e.items.filter((function(e){if(e.index!==n.index)return!0})))})),l((0,p.kZ)(r)),i(!1)};return(0,N.jsx)(A.Z,{className:"rounded-16 bg-white w-[calc(100%-36px)] min-h-[200px] max-w-[420px]",open:n,setOpen:i,children:(0,N.jsxs)("div",{className:"px-36 py-36 pt-8",children:[(0,N.jsx)("div",{className:"py-16 text-20 font-bold",children:"section"==r?"\u062d\u0630\u0641 \u0633\u0631\u0641\u0635\u0644":"\u062d\u0630\u0641 \u062c\u0644\u0633\u0647"}),(0,N.jsxs)("div",{className:"flex w-full gap-12 justify-end mt-16",children:[(0,N.jsx)(a.Z,{className:"min-w-[120px]",variant:"contained",color:"error",onClick:function(){"section"==r?o(t):d(t,s)},children:"\u062d\u0630\u0641"}),(0,N.jsx)(a.Z,{variant:"outlined",color:"primary",onClick:function(){return i(!1)},children:"\u0627\u0646\u0635\u0631\u0627\u0641"})]})]})})}var K=i(50189),L=i(52076);function W(e){return(0,N.jsxs)(L.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,N.jsx)(L.Z,{sx:{width:"100%",mr:1},children:(0,N.jsx)(d.Z,(0,K.Z)({variant:"determinate"},e))}),(0,N.jsx)(L.Z,{sx:{minWidth:35},children:(0,N.jsx)(c.Z,{className:"pl-8",variant:"body2",color:"text.secondary",children:"".concat(Math.round(e.value),"%")})})]})}function M(e){var n=e.progress;return(0,N.jsx)(L.Z,{sx:{width:"100%"},children:(0,N.jsx)(W,{value:n})})}var U=i(39286);function G(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return Number((e/1073741824).toFixed(n))}function $(e){var n=e.open,i=e.setOpen,s=e.section,l=e.item,c=(0,f.useDispatch)(),o=(0,f.useSelector)(p.rE),d=(0,f.useSelector)(p.iV),u=(0,t.useState)(".mp4"),x=(0,r.Z)(u,2),h=x[0],g=x[1],b=(0,t.useState)("1-from"),y=(0,r.Z)(b,2),w=y[0],D=y[1],P=(0,t.useState)("uploadFile"),k=(0,r.Z)(P,2),S=k[0],O=k[1],T=(0,m.UO)().course_id,_=(0,t.useState)("select"),H=(0,r.Z)(_,2),z=H[0],K=H[1],L=(0,t.useState)(0),W=(0,r.Z)(L,2),$=W[0],V=W[1],X=(0,t.useState)(new AbortController),Y=(0,r.Z)(X,2),J=Y[0],Q=Y[1],ee=(0,t.useRef)(null),ne=function(e){var n=Math.ceil(e.loaded/e.total*100);V(n)},ie=function(e){var n=I().cloneDeep(o);n.forEach((function(n){n.index==s.index&&n.items.forEach((function(n){n.index===l.index&&(n.content={uuid:e.uuid,name:e.fileOriginalName,createdAt:e.createdAt,type:n.content.type})}))})),c((0,p.kZ)(n))},re=function(){J.abort(),V(0),ee.current.value=null,K("select"),Q(new AbortController)},te=function(){"1-from"!=w&&(re(),D("1-from")),i(!1)};return(0,t.useEffect)((function(){var e,n;"video"===(null===l||void 0===l||null===(e=l.content)||void 0===e?void 0:e.type)?g(".mp4"):"file"===(null===l||void 0===l||null===(n=l.content)||void 0===n?void 0:n.type)&&g(".zip,.rar,.7z,.jpg,.png,.pdf,.docx,.mp3")}),[l]),(0,t.useEffect)((function(){null!==d&&void 0!==d&&d.uuid||(0,v.Z)("GET",(0,j.EP)()+"/academy/course/fileChest",{Authorization:"Bearer "+Z.Z.getAccessToken()},{}).then((function(e){if(0==e.data.code){var n=e.data.data;console.log(n),c((0,p.O3)(n))}}))}),[]),(0,N.jsx)(A.Z,{className:"rounded-16 bg-white w-[calc(100%-36px)] min-h-[250px] max-w-[540px]",open:n,setOpen:te,children:(0,N.jsxs)("div",{className:"px-36 py-36 pt-16",children:["1-from"===w&&(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("div",{className:"py-16 text-20 font-bold mb-24",children:"\u0627\u0646\u062a\u062e\u0627\u0628 \u0645\u062d\u062a\u0648\u0627\u06cc \u062c\u0644\u0633\u0647"}),(0,N.jsxs)(E.Z,{children:[(0,N.jsx)(q.Z,{id:"demo-radio-buttons-group-label",children:(0,N.jsx)("div",{className:"font-bold text-14 py-8",children:"\u0646\u062d\u0648\u0647 \u0627\u0646\u062a\u062e\u0627\u0628 \u0641\u0627\u06cc\u0644"})}),(0,N.jsxs)(B.Z,{value:S,onChange:function(e,n){O(n)},children:[(0,N.jsx)(R.Z,{value:"fileChest",control:(0,N.jsx)(F.Z,{}),label:"\u0627\u0646\u062a\u062e\u0627\u0628 \u06cc\u06a9 \u0641\u0627\u06cc\u0644 \u0627\u0632 \u0635\u0646\u062f\u0648\u0642 \u0641\u0627\u06cc\u0644 \u0647\u0627"}),(0,N.jsx)(R.Z,{value:"uploadFile",control:(0,N.jsx)(F.Z,{}),label:"\u0622\u067e\u0644\u0648\u062f \u0645\u0633\u062a\u0642\u06cc\u0645 \u06cc\u06a9 \u0641\u0627\u06cc\u0644"})]})]}),(0,N.jsx)("div",{className:"flex w-full gap-12 justify-end mt-36",children:(0,N.jsx)(a.Z,{className:"min-w-[100px]",variant:"contained",color:"primary",onClick:function(){"chestFile"==S?D("2-1-chestFile"):"uploadFile"==S&&D("2-2-uploadFile")},children:"\u0627\u062f\u0627\u0645\u0647"})})]}),"2-1-chestFile"===w&&(0,N.jsx)(N.Fragment,{}),"2-2-uploadFile"===w&&(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)("div",{className:"w-full flex justify-between items-center text-18 font-bold",children:[(0,N.jsx)("div",{children:"\u0622\u067e\u0644\u0648\u062f \u0641\u0627\u06cc\u0644"}),(0,N.jsx)("div",{children:G(d.usedVolume)+"GB/"+G(d.maxVolume)+"GB"})]}),(0,N.jsx)("input",{className:"hidden",ref:ee,type:"file",accept:h,onChange:function(e){var n=new FormData;n.append("file",e.target.files[0]),(0,v.Z)("PATCH",(0,j.EP)()+"/academy/course/video/"+T,{Authorization:"Bearer "+Z.Z.getAccessToken()},{},n,{onUploadProgress:ne,signal:J.signal}).then((function(e){if(0==e.data.code){var n=e.data.data;console.log(n),c((0,p.O3)(n.fileChest)),ie(n),K("success")}else K("select")})).catch((function(e){K("select"),console.log(e)})),K("progress"),ee.current.value=null}}),(0,N.jsxs)("div",{className:"w-full flex flex-col items-center py-32",children:["select"==z&&(0,N.jsx)(a.Z,{className:"min-w-[160px]",variant:"contained",color:"primary",onClick:function(){var e;return null===ee||void 0===ee||null===(e=ee.current)||void 0===e?void 0:e.click()},children:"\u0627\u0646\u062a\u062e\u0627\u0628 \u0641\u0627\u06cc\u0644"}),"progress"==z&&(0,N.jsxs)("div",{className:"w-full flex items-center",style:{direction:"ltr"},children:[(0,N.jsx)(M,{progress:$}),(0,N.jsx)(C.Z,{onClick:function(){re()},children:(0,N.jsx)(U.Z,{})})]}),"success"==z&&(0,N.jsxs)("div",{className:"flex flex-col items-center",children:[(0,N.jsx)("div",{className:"text-18 my-32 font-bold text-green-900",children:"\u0641\u0627\u06cc\u0644 \u0628\u0627 \u0645\u0648\u0641\u0642\u06cc\u062a \u0622\u067e\u0644\u0648\u062f \u0634\u062f"}),(0,N.jsx)(a.Z,{className:"min-w-[160px]",variant:"contained",color:"primary",onClick:te,children:"\u0628\u0627\u0632\u06af\u0634\u062a"})]})]})]})]})})}var V=i(62234),X=function(){var e=(0,f.useDispatch)(),n=(0,f.useSelector)(p.rE),i=(0,h.Ds)().enqueueSnackbar,s=(0,m.UO)().course_id,l=(0,t.useState)(!1),o=(0,r.Z)(l,2),d=o[0],u=o[1],x=(0,t.useState)(!1),g=(0,r.Z)(x,2),b=g[0],y=g[1],w=(0,t.useState)(!1),A=(0,r.Z)(w,2),O=A[0],I=A[1],E=(0,t.useState)(!1),q=(0,r.Z)(E,2),B=q[0],R=q[1],F=(0,t.useState)(!1),K=(0,r.Z)(F,2),L=K[0],W=K[1],M=(0,t.useState)(null),U=(0,r.Z)(M,2),G=U[0],X=U[1],Y=(0,t.useState)(null),J=(0,r.Z)(Y,2),Q=J[0],ee=J[1],ne=function(e,n){X(e),ee(n),W(!0)};return(0,N.jsxs)("div",{className:"w-full p-[24px] flex flex-col",children:[(0,N.jsxs)("div",{className:"w-full flex flex-row justify-between items-center",children:[(0,N.jsx)("div",{children:(0,N.jsx)(c.Z,{className:"flex flex-row text-[22px]",children:"\u0633\u0631\u0641\u0635\u0644 \u0647\u0627 \u0648 \u062c\u0644\u0633\u0627\u062a \u062f\u0648\u0631\u0647"})}),(0,N.jsxs)("div",{children:[(0,N.jsx)(a.Z,{className:"ml-8",variant:"outlined",color:"primary",onClick:function(e){e.preventDefault()},children:"\u0622\u067e\u0644\u0648\u062f \u06af\u0631\u0648\u0647\u06cc \u0641\u0627\u06cc\u0644"}),(0,N.jsx)(a.Z,{className:"ml-8",variant:"contained",color:"primary",type:"submit",onClick:function(){e((0,p.K4)(!0)),(0,v.Z)("PATCH",(0,j.EP)()+"/academy/course/topicsInfo/".concat(s),{Authorization:"Bearer "+Z.Z.getAccessToken()},{},function(e){var n={},i=_.cloneDeep(e);n.topicsAndSessions=[],i.forEach((function(e){var i=[];e.items.forEach((function(e){e.content.uuid&&(e.index=i.length,i.push(e))})),e.items=i,i.length&&n.topicsAndSessions.push(e)})),n.topicsAndSessions.length||(n.topicsAndSessions=null);return n}(n)).then((function(n){if(0==n.data.code){var r=n.data.data.topicsAndSessions||[];e((0,p.kZ)(r)),i(" \u0627\u0637\u0644\u0627\u0639\u0627\u062a \u062f\u0648\u0631\u0647 \u0628\u0627 \u0645\u0648\u0641\u0642\u06cc\u062a \u0630\u062e\u06cc\u0631\u0647 \u0634\u062f",{variant:"success"})}else i("\u062e\u0637\u0627 \u062f\u0631 \u062b\u0628\u062a \u0627\u0637\u0644\u0627\u0639\u0627\u062a",{variant:"error"})})).catch((function(e){i("\u062e\u0637\u0627 \u062f\u0631 \u0627\u0631\u062a\u0628\u0627\u0637 \u0628\u0627 \u0633\u0631\u0648\u0631",{variant:"error"})})).finally((function(){e((0,p.K4)(!1))}))},children:"\u0630\u062e\u06cc\u0631\u0647"})]})]}),n.map((function(e){return(0,N.jsx)("div",{children:(0,N.jsxs)(D.Z,{borderRadius:"10px",bgcolor:"#f0f0f0",pt:2,pb:1,px:2,flexDirection:"column",className:"w-100 my-12 pb-16 relative",justifyContent:"start",children:[(0,N.jsxs)("div",{className:"relative flex w-full pr-8 pl-32 justify-between items-center text-lg font-lg ",children:["\u0633\u0631\u0641\u0635\u0644 ".concat(e.index+1,": ").concat(e.title),0==e.items.length&&(0,N.jsx)(C.Z,{onClick:function(){return function(e){X(e),I(!0)}(e)},children:(0,N.jsx)(S.Z,{className:"text-red-800"})})]}),e.items.map((function(n){return(0,N.jsx)("div",{children:(0,N.jsxs)("div",{className:"flex w-full flex-row justify-between",style:{border:"2px solid #11c5e3",backgroundColor:"#edfafd",color:"black",padding:"20px 12px 20px 12px",borderRadius:"8px",marginBottom:"20px",marginTop:"10px",width:"100%"},children:[(0,N.jsxs)("div",{children:[(0,N.jsxs)("div",{children:["\u062c\u0644\u0633\u0647 ".concat(n.index+1,": ").concat(n.title)," "]}),!!n.content.uuid&&(0,N.jsxs)("div",{className:"flex w-full font-mono gap-x-4 border-t-1 pt-8 mt-6",children:[(0,N.jsx)("div",{children:n.content.name}),(0,N.jsx)("div",{children:"|"}),(0,N.jsx)("div",{style:{direction:"ltr",textAlign:"right"},children:(0,V.jk)(n.content.createdAt,{withTimeHM:!0})}),(0,N.jsx)("div",{children:"|"}),(0,N.jsx)("div",{children:"\u062c\u0644\u0633\u0647 \u0648\u06cc\u062f\u06cc\u0648\u06cc\u06cc"})]})]}),(0,N.jsxs)("div",{children:[n.content.uuid?(0,N.jsxs)(C.Z,{onClick:function(){return ne(e,n)},children:[(0,N.jsx)("div",{className:"text-12",children:"\u062a\u063a\u06cc\u06cc\u0631 \u0641\u0627\u06cc\u0644"}),(0,N.jsx)(k.Z,{})]}):(0,N.jsxs)(C.Z,{onClick:function(){return ne(e,n)},children:[(0,N.jsx)("div",{className:"text-12",children:"\u0627\u0646\u062a\u062e\u0627\u0628 \u0641\u0627\u06cc\u0644"}),(0,N.jsx)(P.Z,{})]}),(0,N.jsx)(C.Z,{onClick:function(){return function(e,n){X(e),ee(n),R(!0)}(e,n)},children:(0,N.jsx)(S.Z,{})})]})]})},n.index)})),(0,N.jsx)(c.Z,{onClick:function(){return function(e){X(e),y(!0)}(e)},color:"#11c5e3",className:"cursor-pointer m-4 px-16",children:"+ \u0627\u0636\u0627\u0641\u0647 \u06a9\u0631\u062f\u0646 \u062c\u0644\u0633\u0647 \u062c\u062f\u06cc\u062f"})]})},e.index)})),(0,N.jsx)(c.Z,{onClick:function(){u(!0)},color:"#11c5e3",className:"cursor-pointer m-4",children:"+ \u0627\u0636\u0627\u0641\u0647 \u06a9\u0631\u062f\u0646 \u0633\u0631\u0641\u0635\u0644 \u062c\u062f\u06cc\u062f"}),d&&(0,N.jsx)(T,{open:d,setOpen:u}),G&&b&&(0,N.jsx)(H,{open:b,setOpen:y,section:G}),G&&O&&(0,N.jsx)(z,{open:O,setOpen:I,type:"section",item:G}),G&&Q&&B&&(0,N.jsx)(z,{open:B,setOpen:R,type:"item",section:G,item:Q}),(0,N.jsx)($,{open:L,setOpen:W,section:G,item:Q})]})};var Y=i(21192),J=i(60801),Q=i(78771),ee=i(33416),ne=i(44838),ie=i(96089),re=i(64649);function te(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"label",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"id";return se.map((function(i){var r;return r={},(0,re.Z)(r,e,i.name),(0,re.Z)(r,n,i.id),r}))}var se=[{id:1,name:"\u0628\u0631\u0646\u0627\u0645\u0647 \u0646\u0648\u06cc\u0633\u06cc"},{id:2,name:"\u0647\u0648\u0634 \u0645\u0635\u0646\u0648\u0639\u06cc"}];function le(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"label",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"id";return e?ce.filter((function(n){return n.L1_id===e})).map((function(e){var r;return r={},(0,re.Z)(r,n,e.name),(0,re.Z)(r,i,e.id),r})):[]}var ce=[{id:1,name:"\u067e\u0627\u06cc\u062a\u0648\u0646",L1_id:1},{id:2,name:"\u062f\u06cc\u067e \u0644\u0631\u0646\u06cc\u0646\u06af",L1_id:2}],ae=(ee.Ry().shape({title:ee.Z_().required("\u0648\u0627\u0631\u062f \u06a9\u0631\u062f\u0646 \u0639\u0646\u0648\u0627\u0646 \u062f\u0648\u0631\u0647 \u0627\u0644\u0632\u0627\u0645\u06cc\u0633\u062a")}),function(){var e=(0,f.useDispatch)(),n=(0,f.useSelector)(p.Be),i=(0,h.Ds)().enqueueSnackbar,s=(0,t.useMemo)((function(){return te()})),l=(0,t.useState)(le(n.categoryLevelOne)),d=(0,r.Z)(l,2),u=d[0],x=d[1],g=(0,m.UO)();return(0,N.jsxs)("div",{children:[(0,N.jsx)(ie.ql,{prioritizeSeoTags:!0,children:(0,N.jsx)("title",{children:"Create Course | \u0627\u06cc\u062c\u0627\u062f \u062f\u0648\u0631\u0647"})}),(0,N.jsxs)("div",{className:"w-full p-[24px] flex flex-col",children:[(0,N.jsxs)("div",{className:"w-full flex flex-row justify-between items-center",children:[(0,N.jsx)("div",{children:(0,N.jsx)(c.Z,{className:"flex flex-row text-[22px]",children:"\u0645\u0648\u0636\u0648\u0639 \u062f\u0648\u0631\u0647"})}),(0,N.jsx)("div",{children:(0,N.jsx)(a.Z,{className:"ml-8",variant:"contained",color:"primary",type:"submit",onClick:function(){e((0,p.K4)(!0)),(0,v.Z)("PATCH",(0,j.EP)()+"/academy/course/subjectInfo/".concat(g.course_id),{Authorization:"Bearer "+Z.Z.getAccessToken()},{},n).then((function(e){0==e.data.code?i(" \u0627\u0637\u0644\u0627\u0639\u0627\u062a \u062f\u0648\u0631\u0647 \u0628\u0627 \u0645\u0648\u0641\u0642\u06cc\u062a \u0630\u062e\u06cc\u0631\u0647 \u0634\u062f",{variant:"success"}):i("\u062e\u0637\u0627 \u062f\u0631 \u062b\u0628\u062a \u0627\u0637\u0644\u0627\u0639\u0627\u062a",{variant:"error"})})).catch((function(e){i("\u062e\u0637\u0627 \u062f\u0631 \u0627\u0631\u062a\u0628\u0627\u0637 \u0628\u0627 \u0633\u0631\u0648\u0631",{variant:"error"})})).finally((function(){e((0,p.K4)(!1))}))},children:"\u0630\u062e\u06cc\u0631\u0647"})})]}),(0,N.jsxs)("div",{className:"flex w-full mt-[42px] flex-col",children:[(0,N.jsxs)("div",{className:"flex flex-col mt-[24px]",children:[(0,N.jsx)(c.Z,{className:"mb-[18px]",children:"\u0639\u0646\u0648\u0627\u0646 \u062f\u0648\u0631\u0647"}),(0,N.jsx)(o.Z,{required:!0,placeholder:"\u0639\u0646\u0648\u0627\u0646 \u062f\u0648\u0631\u0647",color:"primary",value:n.title,onChange:function(i){return function(i){var r=Q.default.cloneDeep(n);r.title=i,e((0,p.IP)(r))}(i.target.value)},variant:"outlined",fullWidth:!0})]}),(0,N.jsxs)(c.Z,{className:"flex flex-row text-[22px]  mt-40",children:["\u062f\u0633\u062a\u0647 \u0628\u0646\u062f\u06cc \u062f\u0648\u0631\u0647"," "]}),(0,N.jsxs)("div",{className:"flex flex-row w-full mt-[24px]",children:[(0,N.jsx)("div",{className:"flex flex-col w-[50%] pl-[16px]",children:(0,N.jsxs)(E.Z,{children:[(0,N.jsx)(Y.Z,{className:"bg-white px-8 select-none",children:"\u062f\u0633\u062a\u0647 \u0628\u0646\u062f\u06cc \u0633\u0637\u062d 1"}),(0,N.jsx)(J.Z,{color:"primary",variant:"outlined",value:n.categoryLevelOne,onChange:function(i,r){return function(i){var r=Q.default.cloneDeep(n);x(le(i)),r.categoryLevelTwo=null,r.categoryLevelOne=i,e((0,p.IP)(r))}(r.props.value)},children:s.map((function(e,n){return(0,N.jsxs)(ne.Z,{value:e.id,children:[e.label," "]},n)}))})]})}),(0,N.jsx)("div",{className:"flex flex-col w-[50%] pr-[16px]",children:(0,N.jsxs)(E.Z,{children:[(0,N.jsx)(Y.Z,{className:"bg-white px-8 select-none",children:"\u062f\u0633\u062a\u0647 \u0628\u0646\u062f\u06cc \u0633\u0637\u062d 2"}),(0,N.jsx)(J.Z,{color:"primary",variant:"outlined",value:n.categoryLevelTwo,onChange:function(i,r){return function(i){var r=Q.default.cloneDeep(n);r.categoryLevelTwo=i,e((0,p.IP)(r))}(r.props.value)},children:u.map((function(e,n){return(0,N.jsx)(ne.Z,{value:e.id,children:e.label},n)}))})]})})]})]})]})]})}),oe=i(80987),de=i(76932),ue=i(26573),xe=i(20436),fe=function(){var e=(0,f.useDispatch)(),n=(0,m.UO)(),i=(0,h.Ds)().enqueueSnackbar,r=(0,f.useSelector)(p.le),t=function(e){var n=e.destination,i=e.source;e.draggableId;n&&(n.droppableId!==i.droppableId||(n.index,i.index))},s=function(n){var i=_.cloneDeep(r),t=_.cloneDeep(r[n]);t||(t=[]),t.push({index:t.length,title:""}),i[n]=t,e((0,p.hW)(i))},l=function(n,i){var t=_.cloneDeep(r),s=_.cloneDeep(r[n]);t[n]=s.filter((function(e){return e.index!==i})),e((0,p.hW)(t))},o=function(n,i,t){var s=_.cloneDeep(r);s[n][i].title=t,e((0,p.hW)(s))};return(0,N.jsx)("div",{children:(0,N.jsxs)("div",{className:"w-full p-[24px] flex flex-col",children:[(0,N.jsxs)("div",{className:"w-full flex flex-row justify-between items-center",children:[(0,N.jsx)("div",{children:(0,N.jsxs)(c.Z,{className:"flex flex-row text-[22px]",children:["\u0645\u062e\u0627\u0637\u0628\u06cc\u0646 \u0627\u06cc\u0646 \u062f\u0648\u0631\u0647"," "]})}),(0,N.jsx)("div",{children:(0,N.jsx)(a.Z,{className:"ml-8",variant:"contained",color:"primary",type:"submit",onClick:function(){e((0,p.K4)(!0)),(0,v.Z)("PATCH",(0,j.EP)()+"/academy/course/audienceInfo/".concat(n.course_id),{Authorization:"Bearer "+Z.Z.getAccessToken()},{},pe(r)).then((function(e){0==e.data.code?i(" \u0627\u0637\u0644\u0627\u0639\u0627\u062a \u062f\u0648\u0631\u0647 \u0628\u0627 \u0645\u0648\u0641\u0642\u06cc\u062a \u0630\u062e\u06cc\u0631\u0647 \u0634\u062f",{variant:"success"}):i("\u062e\u0637\u0627 \u062f\u0631 \u062b\u0628\u062a \u0627\u0637\u0644\u0627\u0639\u0627\u062a",{variant:"error"})})).catch((function(e){i("\u062e\u0637\u0627 \u062f\u0631 \u0627\u0631\u062a\u0628\u0627\u0637 \u0628\u0627 \u0633\u0631\u0648\u0631",{variant:"error"})})).finally((function(){e((0,p.K4)(!1))}))},children:"\u0630\u062e\u06cc\u0631\u0647"})})]}),(0,N.jsx)("div",{className:"flex w-full mt-[42px] flex-col",children:(0,N.jsx)(ue.Z5,{onDragEnd:t,children:(0,N.jsx)(ue.bK,{droppableId:"droppable",children:function(e){var n;return(0,N.jsx)("div",(0,K.Z)((0,K.Z)({ref:e.innerRef},e.droppableProps),{},{children:(0,N.jsxs)("div",{className:"flex flex-col mt-[24px]",children:[(0,N.jsx)(c.Z,{className:"mb-[18px]",children:"\u0645\u062e\u0627\u0637\u0628 \u0647\u0627\u06cc \u0627\u06cc\u0646 \u062f\u0648\u0631\u0647 \u0642\u0631\u0627\u0631\u0647 \u0686\u0647 \u0686\u06cc\u0632\u06cc \u0627\u0632\u0627\u06cc\u0646 \u062f\u0648\u0631\u0647 \u06cc\u0627\u062f\u0628\u06af\u06cc\u0631\u0646\u061f"}),null===r||void 0===r||null===(n=r.courseObjectives)||void 0===n?void 0:n.map((function(e,n){return(0,N.jsx)(ue._l,{draggableId:e.index,index:e.index,children:function(n){return(0,N.jsx)("div",(0,K.Z)((0,K.Z)((0,K.Z)({ref:n.innerRef},n.draggableProps),n.dragHandleProps),{},{children:(0,N.jsxs)("div",{className:"flex justify-evenly mb-8",children:[(0,N.jsx)(oe.Z,{required:!0,className:"w-[82%] flex row ",id:"outlined-adornment-".concat(e.index),color:"primary",value:e.title,onChange:function(n){return o("courseObjectives",e.index,n.target.value)},startAdornment:(0,N.jsx)(de.Z,{position:"start",children:(0,N.jsx)(xe.Z,{})}),"aria-describedby":"outlined-".concat(e.id,"-helper-text"),inputProps:{"aria-label":e.label}}),(0,N.jsx)(C.Z,{onClick:function(){return l("courseObjectives",e.index)},children:(0,N.jsx)(S.Z,{})})]})}))}},n)})),(0,N.jsx)(c.Z,{color:"#11c5e3",className:"cursor-pointer m-4",onClick:function(){return s("courseObjectives")},children:"+ \u0627\u0636\u0627\u0641\u0647 \u06a9\u0631\u062f\u0646 \u0645\u0648\u0627\u0631\u062f \u0628\u06cc\u0634\u062a\u0631"}),e.placeholder]})}))}})})}),(0,N.jsx)("div",{className:"flex w-full mt-[42px] flex-col",children:(0,N.jsx)(ue.Z5,{onDragEnd:t,children:(0,N.jsx)(ue.bK,{droppableId:"droppable",children:function(e){var n;return(0,N.jsx)("div",(0,K.Z)((0,K.Z)({ref:e.innerRef},e.droppableProps),{},{children:(0,N.jsxs)("div",{className:"flex flex-col mt-[24px]",children:[(0,N.jsxs)(c.Z,{className:"mb-[18px]",children:["\u0627\u06cc\u0646 \u062f\u0648\u0631\u0647 \u0686\u0647 \u067e\u06cc\u0634\u0646\u06cc\u0627\u0632 \u0647\u0627\u06cc\u06cc \u062f\u0627\u0631\u0647 \u06a9\u0647 \u0645\u062e\u0627\u0637\u0628 \u0642\u0628\u0644 \u0634\u0631\u0648\u0639 \u0628\u0627\u06cc\u062f \u0628\u062f\u0648\u0646\u0647\u061f"," "]}),null===r||void 0===r||null===(n=r.courseRequirements)||void 0===n?void 0:n.map((function(e,n){return(0,N.jsx)(ue._l,{draggableId:e.index,index:e.index,children:function(n){return(0,N.jsx)("div",(0,K.Z)((0,K.Z)((0,K.Z)({ref:n.innerRef},n.draggableProps),n.dragHandleProps),{},{children:(0,N.jsxs)("div",{className:"flex justify-evenly mb-8",children:[(0,N.jsx)(oe.Z,{required:!0,className:"w-[82%] flex row ",id:"outlined-adornment-".concat(e.index),color:"primary",value:e.title,onChange:function(n){return o("courseRequirements",e.index,n.target.value)},startAdornment:(0,N.jsx)(de.Z,{position:"start",children:(0,N.jsx)(xe.Z,{})}),"aria-describedby":"outlined-".concat(e.id,"-helper-text"),inputProps:{"aria-label":e.label}}),(0,N.jsx)(C.Z,{onClick:function(){return l("courseRequirements",e.index)},children:(0,N.jsx)(S.Z,{})})]})}))}},n)})),(0,N.jsx)(c.Z,{color:"#11c5e3",className:"cursor-pointer m-4",onClick:function(){return s("courseRequirements")},children:"+ \u0627\u0636\u0627\u0641\u0647 \u06a9\u0631\u062f\u0646 \u0645\u0648\u0627\u0631\u062f \u0628\u06cc\u0634\u062a\u0631"}),e.placeholder]})}))}})})}),(0,N.jsx)("div",{className:"flex w-full mt-[42px] flex-col",children:(0,N.jsx)(ue.Z5,{onDragEnd:t,children:(0,N.jsx)(ue.bK,{droppableId:"droppable",children:function(e){var n;return(0,N.jsx)("div",(0,K.Z)((0,K.Z)({ref:e.innerRef},e.droppableProps),{},{children:(0,N.jsxs)("div",{className:"flex flex-col mt-[24px]",children:[(0,N.jsx)(c.Z,{className:"mb-[18px]",children:"\u0627\u06cc\u0646 \u062f\u0648\u0631\u0647 \u0628\u06cc\u0634\u062a\u0631 \u0628\u0647 \u06a9\u0627\u0631 \u0686\u0647 \u0627\u0641\u0631\u0627\u062f \u0628\u0627 \u0686\u0647 \u0631\u0634\u062a\u0647 \u0627\u06cc \u0645\u06cc\u0627\u062f\u061f"}),null===r||void 0===r||null===(n=r.courseBestMajors)||void 0===n?void 0:n.map((function(e,n){return(0,N.jsx)(ue._l,{draggableId:e.index,index:e.index,children:function(n){return(0,N.jsx)("div",(0,K.Z)((0,K.Z)((0,K.Z)({ref:n.innerRef},n.draggableProps),n.dragHandleProps),{},{children:(0,N.jsxs)("div",{className:"flex justify-evenly mb-8",children:[(0,N.jsx)(oe.Z,{required:!0,className:"w-[82%] flex row ",id:"outlined-adornment-".concat(e.index),color:"primary",value:e.title,onChange:function(n){return o("courseBestMajors",e.index,n.target.value)},startAdornment:(0,N.jsx)(de.Z,{position:"start",children:(0,N.jsx)(xe.Z,{})}),"aria-describedby":"outlined-".concat(e.id,"-helper-text"),inputProps:{"aria-label":e.label}}),(0,N.jsx)(C.Z,{onClick:function(){return l("courseBestMajors",e.index)},children:(0,N.jsx)(S.Z,{})})]})}))}},n)})),(0,N.jsx)(c.Z,{color:"#11c5e3",className:"cursor-pointer m-4",onClick:function(){return s("courseBestMajors")},children:"+ \u0627\u0636\u0627\u0641\u0647 \u06a9\u0631\u062f\u0646 \u0645\u0648\u0627\u0631\u062f \u0628\u06cc\u0634\u062a\u0631"}),e.placeholder]})}))}})})})]})})},pe=function(e){var n={},i=function(e){if(!Array.isArray(e)||0===e.length)return null;var n=e.filter((function(e){return""!==e.title.trim()})).map((function(e,n){return{index:n,title:e.title.trim()}}));return n.length>0?n:null};return n.courseObjectives=i(e.courseObjectives),n.courseRequirements=i(e.courseRequirements),n.courseBestMajors=i(e.courseBestMajors),n},me=i(71170),he=i(42087),ve=i(8056);function je(e){e.onStepChange;var n=(0,f.useSelector)(p.xx),i=(0,f.useDispatch)();return(0,N.jsx)(me.Z,{activeStep:n-1,alternativeLabel:!0,className:"mt-32",children:["\u0645\u0648\u0636\u0648\u0639","\u0645\u062e\u0627\u0637\u0628\u06cc\u0646","\u0633\u0631\u0641\u0635\u0644 \u0647\u0627 \u0648 \u062c\u0644\u0633\u0627\u062a","\u0635\u0641\u062d\u0647 \u0641\u0631\u0648\u062f","\u0642\u06cc\u0645\u062a \u06af\u0630\u0627\u0631\u06cc","\u067e\u06cc\u0627\u0645 \u0647\u0627\u06cc \u062f\u0648\u0631\u0647"].map((function(e,n){return(0,N.jsx)(he.Z,{onClick:function(){return function(e){i((0,p.nj)(e+1))}(n)},children:(0,N.jsx)(ve.Z,{children:e})},e)}))})}var Ze=i(19026),ge=i(76489),be=function(){var e=(0,m.UO)(),n=(0,f.useDispatch)(),i=(0,h.Ds)().enqueueSnackbar,r=(0,f.useSelector)(p.Ix);return(0,N.jsx)("div",{children:(0,N.jsxs)("div",{className:"w-full p-[24px] flex flex-col",children:[(0,N.jsxs)("div",{className:"w-full flex flex-row justify-between items-center",children:[(0,N.jsx)("div",{children:(0,N.jsx)(c.Z,{className:"flex flex-row text-[22px]",children:"\u0642\u06cc\u0645\u062a \u06af\u0630\u0627\u0631\u06cc"})}),(0,N.jsx)("div",{children:(0,N.jsx)(a.Z,{className:"ml-8",variant:"contained",color:"primary",type:"submit",onClick:function(){n((0,p.K4)(!0)),(0,v.Z)("PATCH",(0,j.EP)()+"/academy/course/pricingInfo/".concat(e.course_id),{Authorization:"Bearer "+Z.Z.getAccessToken()},{},Ne(r)).then((function(e){0==e.data.code?i(" \u0627\u0637\u0644\u0627\u0639\u0627\u062a \u062f\u0648\u0631\u0647 \u0628\u0627 \u0645\u0648\u0641\u0642\u06cc\u062a \u0630\u062e\u06cc\u0631\u0647 \u0634\u062f",{variant:"success"}):i("\u062e\u0637\u0627 \u062f\u0631 \u062b\u0628\u062a \u0627\u0637\u0644\u0627\u0639\u0627\u062a",{variant:"error"})})).catch((function(e){i("\u062e\u0637\u0627 \u062f\u0631 \u0627\u0631\u062a\u0628\u0627\u0637 \u0628\u0627 \u0633\u0631\u0648\u0631",{variant:"error"})})).finally((function(){n((0,p.K4)(!1))}))},children:"\u0630\u062e\u06cc\u0631\u0647"})})]}),(0,N.jsx)("div",{className:"flex w-[80%] mt-[42px] flex-col",children:(0,N.jsxs)("div",{className:"flex flex-col mt-[24px]",children:[(0,N.jsx)(c.Z,{className:"mb-[18px]",children:"\u0642\u06cc\u0645\u062a \u0641\u0631\u0648\u0634 \u0627\u06cc\u0646 \u062f\u0648\u0631\u0647 "}),(0,N.jsx)("div",{className:"flex flex-col items-center max-w-[360px]",children:(0,N.jsx)(Ze.Z,{required:!0,placeholder:"700,0000",id:"basePrice",endAdornment:(0,N.jsx)(de.Z,{position:"end",children:"\u062a\u0648\u0645\u0627\u0646"}),value:r.basePrice,onChange:function(e){return function(e){var i=parseInt(e.split(",").join(""));if(e){if(isNaN(i))return void console.error("Invalid input for price:",e)}else e="";i=(0,V.XY)(i,{type:"toman"});var t=_.cloneDeep(r);t.basePrice=i,n((0,p.a$)(t))}(e.target.value)},fullWidth:!0})}),(0,N.jsxs)("div",{className:"flex w-fit items-center mt-32",onClick:function(){var e=_.cloneDeep(r);e.discountActivation=!r.discountActivation,n((0,p.a$)(e))},children:[(0,N.jsx)(ge.Z,{checked:r.discountActivation,onChange:function(){},color:"primary"}),(0,N.jsx)(c.Z,{color:"#11c5e3",className:"cursor-pointer",children:"\u0641\u0639\u0627\u0644\u0633\u0627\u0632\u06cc \u062a\u062e\u0641\u06cc\u0641 \u0628\u0627\u0632\u0647 \u0627\u06cc"})]})]})}),r.discountActivation&&(0,N.jsx)("div",{className:"flex w-full justify-start",children:(0,N.jsx)("div",{className:"box mx-4 ",style:{border:"2px dashed #11c5e3",display:"flex",justifyContent:"flex-end",padding:"30px",borderRadius:"8px"},children:(0,N.jsxs)("div",{className:"mt-4",children:[(0,N.jsx)("div",{className:"flex flex-row w-full items-center",children:(0,N.jsxs)("div",{className:"flex w-full flex-col",children:[(0,N.jsx)(c.Z,{className:"mb-[18px] ",children:"\u062a\u0627\u0631\u06cc\u062e \u0634\u0631\u0648\u0639 \u0628\u0627\u0632\u0647 \u062a\u062e\u0641\u06cc\u0641"}),(0,N.jsx)(Ze.Z,{required:!0,variant:"filled",placeholder:"1402/08/12",value:r.discountStartDate,onChange:function(e){return function(e){var i=_.cloneDeep(r);i.discountStartDate=e,n((0,p.a$)(i))}(e.target.value)},fullWidth:!0})]})}),(0,N.jsx)("div",{className:"flex flex-row w-full items-center",children:(0,N.jsxs)("div",{className:"flex w-full flex-col",children:[(0,N.jsx)(c.Z,{className:"mb-[18px] mt-[18px]",children:"\u062a\u0627\u0631\u06cc\u062e \u067e\u0627\u06cc\u0627\u0646 \u0628\u0627\u0632\u0647 \u062a\u062e\u0641\u06cc\u0641"}),(0,N.jsx)(Ze.Z,{required:!0,variant:"filled",placeholder:"1402/08/12",value:r.discountDueDate,onChange:function(e){return function(e){var i=_.cloneDeep(r);i.discountDueDate=e,n((0,p.a$)(i))}(e.target.value)},fullWidth:!0})]})}),(0,N.jsxs)("div",{className:"flex flex-col items-center w-full  mt-[18px]",children:[(0,N.jsx)(c.Z,{className:"mb-[18px] flex flex-row",children:"\u0642\u06cc\u0645\u062a \u0641\u0631\u0648\u0634 \u0628\u0627 \u0627\u062d\u062a\u0633\u0627\u0628 \u062a\u062e\u0641\u06cc\u0641 \u062f\u0631\u0627\u06cc\u0646 \u0628\u0627\u0632\u0647"}),(0,N.jsx)(Ze.Z,{required:!0,placeholder:"45,20000",variant:"filled",value:r.discountPrice,onChange:function(e){return function(e){var i=parseInt(e.split(",").join(""));if(isNaN(i))console.error("Invalid input for price:",e);else{i=(0,V.XY)(i,{type:"toman"});var t=_.cloneDeep(r);t.discountPrice=i,n((0,p.a$)(t))}}(e.target.value)},fullWidth:!0,endAdornment:(0,N.jsx)(de.Z,{position:"end",children:"\u062a\u0648\u0645\u0627\u0646"})})]})]})})})]})})},Ne=function(e){var n={};return n.basePrice=e.basePrice?parseInt(e.basePrice.split(",").join("")):null,n.discountPrice=e.discountPrice?parseInt(e.discountPrice.split(",").join("")):null,n.discountActivation=!!e.discountActivation,n.discountStartDate=e.discountStartDate||null,n.discountDueDate=e.discountDueDate||null,n},ye=function(){var e=(0,m.UO)(),n=(0,f.useDispatch)(),i=(0,h.Ds)().enqueueSnackbar,s=(0,f.useSelector)(p.wF),l=(0,t.useState)({}),d=(0,r.Z)(l,2),u=d[0],x=d[1],g=function(){var e,n,i=!0,r={};return null!==(e=s.messagePurchase)&&void 0!==e&&e.length&&s.messagePurchase.length<100&&(i=!1,r.messagePurchase="\u0628\u0627\u06cc\u062f \u062d\u062f\u0627\u0642\u0644 100 \u06a9\u0627\u0631\u0627\u06a9\u062a\u0631 \u0628\u0627\u0634\u062f"),null!==(n=s.messageCourseCompletion)&&void 0!==n&&n.length&&s.messageCourseCompletion.length<100&&(i=!1,r.messageCourseCompletion="\u0628\u0627\u06cc\u062f \u062d\u062f\u0627\u0642\u0644 100 \u06a9\u0627\u0631\u0627\u06a9\u062a\u0631 \u0628\u0627\u0634\u062f"),x(r),i};return(0,N.jsx)("div",{children:(0,N.jsxs)("div",{className:"w-full p-[24px] flex flex-col",children:[(0,N.jsxs)("div",{className:"w-full flex flex-row justify-between items-center",children:[(0,N.jsx)("div",{children:(0,N.jsx)(c.Z,{className:"flex flex-row text-[22px]",children:"\u067e\u06cc\u0627\u0645 \u0647\u0627\u06cc \u062f\u0648\u0631\u0647"})}),(0,N.jsx)("div",{children:(0,N.jsx)(a.Z,{className:"ml-8",variant:"contained",color:"primary",type:"submit",onClick:function(){g()&&(n((0,p.K4)(!0)),(0,v.Z)("PATCH",(0,j.EP)()+"/academy/course/messageInfo/".concat(e.course_id),{Authorization:"Bearer "+Z.Z.getAccessToken()},{},function(e){var n={};e.messagePurchase?n.messagePurchase=e.messagePurchase:n.messagePurchase=null;e.messageCourseCompletion?n.messageCourseCompletion=e.messageCourseCompletion:n.messageCourseCompletion=null;return n}(s)).then((function(e){0==e.data.code?i(" \u0627\u0637\u0644\u0627\u0639\u0627\u062a \u062f\u0648\u0631\u0647 \u0628\u0627 \u0645\u0648\u0641\u0642\u06cc\u062a \u0630\u062e\u06cc\u0631\u0647 \u0634\u062f",{variant:"success"}):i("\u062e\u0637\u0627 \u062f\u0631 \u062b\u0628\u062a \u0627\u0637\u0644\u0627\u0639\u0627\u062a",{variant:"error"})})).catch((function(e){i("\u062e\u0637\u0627 \u062f\u0631 \u0627\u0631\u062a\u0628\u0627\u0637 \u0628\u0627 \u0633\u0631\u0648\u0631",{variant:"error"})})).finally((function(){n((0,p.K4)(!1))})))},children:"\u0630\u062e\u06cc\u0631\u0647"})})]}),(0,N.jsx)("div",{className:"flex w-full mt-[42px] flex-col",children:(0,N.jsxs)("div",{className:"flex flex-col mt-[24px]",children:[(0,N.jsxs)(c.Z,{className:"mb-[18px]",children:["\u0645\u062a\u0646 \u067e\u06cc\u0627\u0645 \u0627\u0631\u0633\u0627\u0644\u06cc \u0628\u0647 \u062f\u0627\u0646\u0634 \u0627\u0645\u0648\u0632\u0627\u0646 \u0628\u0639\u062f \u0627\u0632 \u062e\u0631\u06cc\u062f \u062f\u0648\u0631\u0647"," "]}),(0,N.jsx)(o.Z,{required:!0,placeholder:"\u0628\u0631\u0627\u06cc \u0645\u062b\u0627\u0644: \u0628\u0647 \u062f\u0648\u0631\u0647 \u0622\u0645\u0648\u0632\u0634 \u0641\u06cc\u0644\u0645\u0646\u0627\u0645\u0647 \u0646\u0648\u06cc\u0633\u06cc \u062e\u0648\u0634 \u0622\u0645\u062f\u06cc\u062f ",rows:5,value:s.messagePurchase,onChange:function(e){return function(e){var i=_.cloneDeep(s);i.messagePurchase=e,n((0,p.ZB)(i))}(e.target.value)},error:!(null===u||void 0===u||!u.messagePurchase),helperText:u.messagePurchase||!1,variant:"outlined",fullWidth:!0,InputProps:{style:{lineHeight:2}},multiline:!0})]})}),(0,N.jsx)("div",{className:"flex w-full mt-[42px] flex-col",children:(0,N.jsxs)("div",{className:"flex flex-col mt-[24px]",children:[(0,N.jsxs)(c.Z,{className:"mb-[18px]",children:["\u0645\u062a\u0646 \u067e\u06cc\u0627\u0645 \u0627\u0631\u0633\u0627\u0644\u06cc \u0628\u0647 \u062f\u0627\u0646\u0634 \u0622\u0645\u0648\u0632\u0627\u0646 \u0628\u0639\u062f \u0627\u0632 \u0627\u062a\u0645\u0627\u0645 \u062f\u0648\u0631\u0647"," "]}),(0,N.jsx)(o.Z,{required:!0,placeholder:"\u0628\u0631\u0627\u06cc \u0645\u062b\u0627\u0644: \u0627\u0645\u06cc\u062f\u0648\u0627\u0631\u0645 \u0646\u0647\u0627\u06cc\u062a \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0631\u0648 \u0627\u0632 \u0627\u06cc\u0646 \u062f\u0648\u0631\u0647 \u06a9\u0631\u062f\u0647 \u0628\u0627\u0634\u06cc\u0646",value:s.messageCourseCompletion,onChange:function(e){return function(e){var i=_.cloneDeep(s);i.messageCourseCompletion=e,n((0,p.ZB)(i))}(e.target.value)},variant:"outlined",error:!(null===u||void 0===u||!u.messageCourseCompletion),helperText:u.messageCourseCompletion||!1,fullWidth:!0,multiline:!0,rows:8,InputProps:{style:{lineHeight:2}}})]})})]})})};var we=i(8783),Ce=function(){var e=(0,f.useSelector)(p.xx),n=(0,f.useDispatch)(),i=(0,t.useState)(null),s=(0,r.Z)(i,2),l=s[0],c=(s[1],(0,m.UO)()),a=(0,f.useSelector)(p.NH);return(0,t.useEffect)((function(){(0,v.Z)("GET",(0,j.EP)()+"/academy/course/"+c.course_id,{Authorization:"Bearer "+Z.Z.getAccessToken()}).then((function(e){var i=e.data.data,r={title:i.title||"",categoryLevelOne:i.categoryLevelOne,categoryLevelTwo:i.categoryLevelTwo},t={messagePurchase:i.messagePurchase||"",messageCourseCompletion:i.messageCourseCompletion||""},s={briefDescription:i.briefDescription||"",immenseDescription:i.immenseDescription||""},l={basePrice:(0,V.XY)(i.basePrice),discountDueDate:i.discountDueDate,discountActivation:i.discountActivation,discountStartDate:i.discountStartDate,discountPrice:(0,V.XY)(i.discountPrice)},c={courseObjectives:i.courseObjectives||[],courseRequirements:i.courseRequirements||[],courseBestMajors:i.courseBestMajors||[]},a=i.topicsAndSessions||[];n((0,p.IP)(r)),n((0,p.ZB)(t)),n((0,p.a$)(l)),n((0,p.hW)(c)),n((0,p.kZ)(a)),n((0,p.ZG)(s))})).finally((function(){n((0,p.K4)(!1))}))}),[]),a?(0,N.jsx)("div",{className:"w-full flex justify-center h-[calc(100vh-100px)] top-0 left-0 items-center  bg-white bg-opacity-95",children:(0,N.jsx)(we.Z,{color:"secondary",size:60})}):(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(je,{activeStep:e}),(0,N.jsxs)("div",{className:"w-full mt-32 px-64",children:[1===e&&(0,N.jsx)(ae,{id:l}),2===e&&(0,N.jsx)(fe,{id:l}),3===e&&(0,N.jsx)(X,{id:l}),4===e&&(0,N.jsx)(w,{id:l}),5===e&&(0,N.jsx)(be,{id:l}),6===e&&(0,N.jsx)(ye,{id:l})]})]})}}}]);