"use strict";(self.webpackChunkcipherland_code=self.webpackChunkcipherland_code||[]).push([[8818],{68818:function(e,l,t){t.r(l),t.d(l,{default:function(){return g}});var n=t(11026),a=(t(17664),t(35269)),s=t(99898),c=t(37034),i=t(66845),r=t(65811),u=t(93106),d=t(14565),x=t(22042),o=t(62144),f=t(67506),h=t(22383),v=t(62234),p=t(32060),m=t(22762),j=t(40864);function g(){var e=(0,s.UO)(),l=(0,a.useDispatch)(),t=(0,a.useSelector)(c.WL),g=(0,i.useState)({}),w=(0,n.Z)(g,2),N=w[0],b=w[1],Z=(0,i.useState)(!0),y=(0,n.Z)(Z,2),k=y[0],S=y[1],z=(0,i.useState)(""),C=(0,n.Z)(z,2),V=C[0],H=C[1],_=(0,i.useRef)(null),D=(0,i.useState)(null),M=(0,n.Z)(D,2),P=M[0],A=M[1],F=(0,m.Ds)().enqueueSnackbar,E=function(e){A(e.target.files[0])},O=function(){A(null),_.current.value=null};if((0,i.useEffect)((function(){l((0,c.d$)(e.id)).then((function(e){var l=e.payload;delete l.ticket_messages,b(l),S(!1)}))}),[]),k)return(0,j.jsx)("div",{className:"w-full min-h-[calc(100vh-400px)] pt-128",children:(0,j.jsx)(r.default,{})});function q(){return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(d.Z,{className:"",size:"small",color:"primary",onClick:function(){var e;return null===_||void 0===_||null===(e=_.current)||void 0===e?void 0:e.click()},children:"\u067e\u06cc\u0648\u0633\u062a \u0641\u0627\u06cc\u0644"}),(0,j.jsx)("input",{ref:_,className:"hidden",type:"file",accept:".png,.jpg,.docx,.zip,.rar",onChange:E}),!!P&&(0,j.jsxs)("div",{className:"flex flex-col items-center",children:[(0,j.jsx)("div",{style:{direction:"ltr"},className:"max-w-full font-mono text-11 truncate lg:mt-8",children:null===P||void 0===P?void 0:P.name}),(0,j.jsx)(o.Z,{className:"cursor-pointer text-red-600 text-16",onClick:function(){return O()}})]})]})}return(0,j.jsxs)("div",{className:"relative w-full max-w-[1000px] h-[calc(100vh-86px)] py-0 lg:h-[calc(100vh-160px)] bg-white items-center lg:px-48 flex flex-col",children:[(0,j.jsxs)("div",{className:"relative flex-1 w-full overflow-auto",children:[(0,j.jsxs)("div",{className:"flex w-full items-center justify-between rounded-16 h-[50px] px-28 bg-blue-50",children:[(0,j.jsx)("div",{className:"text-16 max-w-[200px] truncate",children:"\u0639\u0646\u0648\u0627\u0646 : "+N.title}),(0,j.jsx)("div",{className:"text-12 max-w-[200px] ",children:"\u062a\u0627\u0631\u06cc\u062e \u0633\u0627\u062e\u062a : "+(0,v.jk)(N.createdAt)})]}),(0,j.jsx)("div",{className:"relative w-full flex flex-col-reverse h-[calc(100%-60px)] border-b-1 overflow-auto mt-4",children:t.map((function(e,l){return(0,j.jsxs)("div",{className:(0,h.default)("max-w-[60%] my-4 rounded-12 px-24 py-12",e.fromAdmin?"bg-blue-50 self-end":"bg-green-50 self-start"),children:[(0,j.jsx)("div",{children:e.body||"\u067e\u06cc\u0627\u0645 \u062d\u0627\u0648\u06cc \u06cc\u06a9 \u0641\u0627\u06cc\u0644 \u0627\u0633\u062a"}),!!e.filePath&&(0,j.jsx)("div",{className:"my-8",children:(0,j.jsxs)("a",{className:"relative top-8 flex items-center text-14 !bg-transparent !text-blue-700",target:"_blank",rel:"noopener",href:(0,p.EP)()+e.filePath,children:[(0,j.jsx)(f.Z,{}),"\u0646\u0645\u0627\u06cc\u0634 \u0641\u0627\u06cc\u0644"]})})]},l)}))})]}),(0,j.jsxs)("div",{className:"flex w-full h-[120px] pt-8 lg:px-16",children:[(0,j.jsxs)("div",{className:"w-[160px] lg:w-auto flex flex-col items-center justify-center",children:[(0,j.jsx)("div",{className:"h-32 w-32 lg:h-44 lg:w-44 flex justify-center  rounded-full pl-2 cursor-pointer items-center bg-blue-600",children:(0,j.jsx)(u.Z,{className:"text-14 lg:text-16 text-white",onClick:function(){return function(){var e=new FormData;e.append("ticket_uuid",N.uuid),e.append("body",V),P&&e.append("file",P),V||P||F("\u067e\u06cc\u0627\u0645 \u0628\u0627\u06cc\u062f \u062f\u0627\u0631\u0627\u06cc \u0645\u062a\u0646 \u06cc\u0627 \u06cc\u06a9 \u0641\u0627\u06cc\u0644 \u0628\u0627\u0634\u062f",{variant:"error"}),l((0,c.tn)(e)).then((function(e){H(""),O()}))}()}})}),(0,j.jsx)("div",{className:"lg:hidden flex flex-col",children:q()})]}),(0,j.jsx)(x.Z,{inputProps:{style:{lineHeight:"24px"}},className:"w-[calc(100%-50px)] lg:w-[calc(100%-160px)] lg:mx-16",multiline:!0,rows:3,label:"\u0645\u062a\u0646 \u067e\u06cc\u0627\u0645",value:V,onChange:function(e){return H(e.target.value)}}),(0,j.jsx)("div",{className:"hidden lg:flex lg:w-[100px] flex-col items-center",children:q()})]})]})}},67506:function(e,l,t){var n=t(73203);l.Z=void 0;var a=n(t(75437)),s=t(40864),c=(0,a.default)((0,s.jsx)("path",{d:"M16.5 6v11.5c0 2.21-1.79 4-4 4s-4-1.79-4-4V5c0-1.38 1.12-2.5 2.5-2.5s2.5 1.12 2.5 2.5v10.5c0 .55-.45 1-1 1s-1-.45-1-1V6H10v9.5c0 1.38 1.12 2.5 2.5 2.5s2.5-1.12 2.5-2.5V5c0-2.21-1.79-4-4-4S7 2.79 7 5v12.5c0 3.04 2.46 5.5 5.5 5.5s5.5-2.46 5.5-5.5V6h-1.5z"}),"AttachFile");l.Z=c},62144:function(e,l,t){var n=t(73203);l.Z=void 0;var a=n(t(75437)),s=t(40864),c=(0,a.default)((0,s.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9zm7.5-5-1-1h-5l-1 1H5v2h14V4z"}),"DeleteOutline");l.Z=c},93106:function(e,l,t){var n=t(73203);l.Z=void 0;var a=n(t(75437)),s=t(40864),c=(0,a.default)((0,s.jsx)("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"}),"Send");l.Z=c}}]);