"use strict";(self.webpackChunkcipherland_code=self.webpackChunkcipherland_code||[]).push([[7959],{97959:function(e,l,n){n.r(l),n.d(l,{default:function(){return F}});var i=n(50189),o=n(65811),a=n(60903),t=n(14565),r=n(77621),s=n(90527),d=n(4019),c=n(90694),u=n(98225),m=n(78684),v=n(78771),f=n(25358),h=n(44028),x=n(12921),p=n(14979),y=n(89310),j=n(35269),b=n(99898);var w=function(e){var l=(0,j.useDispatch)(),n=(0,f.Gc)(),i=n.formState,o=n.watch,a=n.getValues,t=i.isValid,r=i.dirtyFields,s=o("title"),d=(0,y.Z)(),c=(0,b.s0)();return{isValid:t,dirtyFields:r,title:s,theme:d,handleSaveRole:function(){l((0,p.x$)(a())).then((function(){c("/role-permission/roles")}))},handleRemoveRole:function(){l((0,p.l5)()).then((function(){c("/role-permission/roles")}))}}},Z=n(40864);var k=function(e){var l=e.t,n=w(e),i=n.isValid,o=n.dirtyFields,a=n.title,r=n.theme,s=n.handleSaveRole,c=n.handleRemoveRole;return(0,Z.jsxs)("div",{className:"flex flex-col sm:flex-row flex-1 w-full items-center justify-between space-y-8 sm:space-y-0 py-32 px-24 md:px-32",children:[(0,Z.jsxs)("div",{className:"flex flex-col items-center sm:items-start space-y-8 sm:space-y-0 w-full sm:max-w-full min-w-0",children:[(0,Z.jsx)(u.E.div,{initial:{x:20,opacity:0},animate:{x:0,opacity:1,transition:{delay:.3}},children:(0,Z.jsxs)(d.Z,{className:"flex items-center sm:mb-12",component:m.Link,role:"button",to:"/role-permission/roles",color:"inherit",children:[(0,Z.jsx)(x.default,{size:20,children:"ltr"===r.direction?"heroicons-outline:arrow-sm-left":"heroicons-outline:arrow-sm-right"}),(0,Z.jsx)("span",{className:"flex mx-4 font-medium",children:l("ROLES")})]})}),(0,Z.jsxs)("div",{className:"flex items-center max-w-full",children:[(0,Z.jsx)(u.E.div,{className:"hidden sm:flex",initial:{scale:0},animate:{scale:1,transition:{delay:.3}}}),(0,Z.jsx)(u.E.div,{className:"flex flex-col items-center sm:items-start min-w-0 mx-8 sm:mx-16",initial:{x:-20},animate:{x:0,transition:{delay:.3}},children:(0,Z.jsx)(d.Z,{className:"text-16 sm:text-20 truncate font-semibold",children:a||l("New Role")})})]})]}),(0,Z.jsxs)(u.E.div,{className:"flex",initial:{opacity:0,x:20},animate:{opacity:1,x:0,transition:{delay:.3}},children:[!a||(0,Z.jsx)(t.Z,{className:"whitespace-nowrap mx-4",variant:"contained",color:"secondary",onClick:c,startIcon:(0,Z.jsx)(x.default,{className:"hidden sm:flex",children:"heroicons-outline:trash"}),children:l("REMOVE")}),(0,Z.jsx)(t.Z,{className:"whitespace-nowrap mx-4",variant:"contained",color:"secondary",disabled:v.default.isEmpty(o)||!i,onClick:s,children:l("SAVE")})]})]})},N=n(95338),C=n(11026),E=n(66845),g=n(13597),R=n(33416),V=n(82426),S=n(61927),T=n(38708);var _=function(e){var l=(0,T.$)("rolesPage").t,n=R.Ry().shape({title:R.Z_().required(l("YOU_MUST_ENTER")).min(3,l("MUST_BE_AT_LEAST_CHARACTERS").replace("%param1%",l("TITLE")).replace("%param2%",3))}),i=(0,j.useDispatch)(),o=(0,E.useState)(0),a=(0,C.Z)(o,2),t=a[0],r=a[1],s=(0,j.useSelector)(p.oM),d=(0,V.Z)((function(e){return e.breakpoints.down("lg")})),c=(0,b.UO)(),u=(0,E.useState)(!1),m=(0,C.Z)(u,2),v=m[0],h=m[1],x=(0,f.cI)({mode:"onChange",defaultValues:{},resolver:(0,g.X)(n)}),y=x.reset,w=x.watch,Z=(x.control,x.onChange,x.formState,w());return(0,S.useDeepCompareEffect)((function(){!function(){var e=c.roleId;"new"===e?i((0,p.A8)()):i((0,p.cY)(e)).then((function(e){e.payload||h(!0)}))}()}),[i,c]),(0,E.useEffect)((function(){s&&y(s)}),[s,y]),(0,E.useEffect)((function(){return function(){i((0,p.kb)()),h(!1)}}),[i]),{noRole:v,role:s,routeParams:c,methods:x,isMobile:d,form:Z,tabValue:t,setTabValue:r,handleTabChange:function(e,l){r(l)}}};var F=(0,c.Z)("roleManager",h.Z)((function(e){var l=_(e),n=l.noRole,c=l.role,h=l.routeParams,x=l.methods,p=l.isMobile,y=l.form,j=l.tabValue,b=(l.setTabValue,l.handleTabChange),w=(0,T.$)("rolesPage").t;return n?(0,Z.jsxs)(u.E.div,{initial:{opacity:0},animate:{opacity:1,transition:{delay:.1}},className:"flex flex-col flex-1 items-center justify-center h-full",children:[(0,Z.jsx)(d.Z,{color:"text.secondary",variant:"h5",children:w("There is no such role!")}),(0,Z.jsx)(t.Z,{className:"mt-24",component:m.Link,variant:"outlined",to:"/role-permission/roles",color:"inherit",children:w("Go to Roles Page")})]}):v.default.isEmpty(y)||c&&h.roleId!==(null===c||void 0===c?void 0:c.uuid)&&"new"!==h.roleId?(0,Z.jsx)(o.default,{}):(0,Z.jsx)(f.RV,(0,i.Z)((0,i.Z)({},x),{},{children:(0,Z.jsx)(a.Z,{header:(0,Z.jsx)(k,{t:w}),content:(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(s.Z,{value:j,onChange:b,indicatorColor:"secondary",textColor:"secondary",variant:"scrollable",scrollButtons:"auto",classes:{root:"w-full h-64 border-b-1"},children:(0,Z.jsx)(r.Z,{className:"h-64",label:w("Role Information")})}),(0,Z.jsx)("div",{className:"p-16 sm:p-24 max-w-3xl",children:(0,Z.jsx)("div",{className:0!==j?"hidden":"",children:(0,Z.jsx)(N.Z,{model:null===c||void 0===c?void 0:c.model,t:w})})})]}),scroll:p?"normal":"content"})}))}))},95338:function(e,l,n){var i=n(22042),o=n(44838),a=n(60801),t=n(25358),r=n(6706),s=n(72706),d=n(40864);l.Z=function(e){var l=e.model,n=e.t,c=(0,t.Gc)(),u=c.control,m=c.formState.errors;return(0,d.jsx)("div",{children:null===l||void 0===l?void 0:l.map((function(e){return"text"===e.type||"password"===e.type?(0,d.jsx)(t.Qr,{name:null===e||void 0===e?void 0:e.key,control:u,render:function(l){var o,a=l.field,t=a.value,r=a.onChange;return(0,d.jsx)(i.Z,{value:t||"",onChange:r,className:"mt-8 mb-16",error:!(null===m||void 0===m||!m[null===e||void 0===e?void 0:e.key]),required:null===e||void 0===e?void 0:e.required,helperText:null===m||void 0===m||null===(o=m[null===e||void 0===e?void 0:e.key])||void 0===o?void 0:o.message,label:n((0,s.upperCase)(null===e||void 0===e?void 0:e.key)),autoFocus:null===e||void 0===e?void 0:e.autoFocus,id:null===e||void 0===e?void 0:e.key,type:e.type,variant:"outlined",fullWidth:!0})}},null===e||void 0===e?void 0:e.key):"image"===e.type?(0,d.jsx)(r.Z,{element:e},null===e||void 0===e?void 0:e.key):"select"===e.type?(0,d.jsx)(t.Qr,{name:null===e||void 0===e?void 0:e.key,control:u,render:function(l){var i=l.field,t=i.onChange,r=i.value;return(0,d.jsx)(a.Z,{defaultValue:e.defautValues[0],value:r||e.defautValues[0],onChange:t,labelId:"".concat(null===e||void 0===e?void 0:e.key," + ","error-label"),className:"mt-8 mb-16",error:!(null===m||void 0===m||!m[null===e||void 0===e?void 0:e.key]),required:null===e||void 0===e?void 0:e.required,label:n((0,s.upperCase)(null===e||void 0===e?void 0:e.key)),autoFocus:null===e||void 0===e?void 0:e.autoFocus,id:null===e||void 0===e?void 0:e.key,variant:"outlined",fullWidth:!0,children:e.defautValues.map((function(e,l){return(0,d.jsx)(o.Z,{value:e,children:n(e)},l)}))})}},null===e||void 0===e?void 0:e.key):void 0}))})}}}]);